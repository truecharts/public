groups:
  - name: Image
    description: |
      Configured the images to be used for the Chart.
      It's wise to use "digest pinned" tags and to avoid using "latest".

      Checkout the following documentation for more information:
      - https://truecharts.org/common/#images


  - name: General
    description: |
      For TrueNAS SCALE We've grouped a number of settings here, that all effact how apps run in general.

      Checkout the following documentation for more information:
        - https://truecharts.org/common/global/
        - https://truecharts.org/common/#tz
        - https://truecharts.org/common/podoptions/
        - Image Pull Secrets


  - name: Workload
    description: |
      These settings configure how the actual Pods and containers are running.
      Generally, on SCALE, we only expose a limited subset of these settings for the primary workload and container.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/workload/
      - https://truecharts.org/common/container/


  - name: App Configuration
    description: |
       Every application has different values that may be required to run or have multiple options that the user may choose to enable or disable to change the behavior of the application.
       Most options should have a Tooltip (Circled Question Mark) to further describe said option.

       To find more information, lookup your chart-specific documentation in the Charts List: https://truecharts.org/charts/description-list/

  - name: Services
    description: |
      Service and Networking options for any applications are contained here.
      Some applications may have complicated networking setups with multiple options or some may have no options here at all.

      Options here include the service and port configurations for the application, and more may be enabled or changed under the Advanced Settings and Show Expert Config boxes.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/service/

  - name: Networking
    description: |
      Contains advanced networking options that are not actively supported by the TrueCharts team.
      Currently only contains scaleExternalInterfaces.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/scaleexternalinterface/

  - name: Persistence
    description: |
      Many applications will have certain options for storage to be configurable by the user, the main two being PVC and hostpath but may include other types.
      This storage is called Persistence since it is not deleted upon restart or upgrade of an application.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/persistence/
      - https://truecharts.org/scale/guides/nfs-share/
      - https://truecharts.org/general/faq/#why-pvc-is-recommended-over-hostpath


  - name: Ingress
    description: |
      Ingress (more commonly known as Reverse Proxy) settings can be configured here. This is how Kubernetes connects your Applications in containers to FQDNs (fully qualified domain names).
      If you choose to enable this you must have a "Ingress Provider" aka "Reverse Proxy" installed (We highly advice Traefik: https://truecharts.org/charts/premium/traefik/)
      It also requiresa DNS service to actually resolve the DNS name of the FQDN specified.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/ingress/


  - name: SecurityContext
    description: |
      The security settings for each application and/or permissions that each application may have for the files/directories created.
      Each application will come with predefined permissions but users may want to change certain setting depending on their usage or capabilities.

      Unless necessary users are advised to keep this section mostly to defaults.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/securitycontext/


  - name: Resources
    description: |
      Resources limits that have been defined by each application are in this section.
      Most will have a specific default that some users may want to change based on their specific hardware or needs.

      This also contains the options to mount GPUs or, more precisely, "request" GPU's to be mounted.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/resources/

  - name: Devices
    description: |
      These are special "mountpoints" that can be used to mount miscelanious USB and PCI devices using special hostPath mounts.
      For clearity we've decided to seperate this from persistence on SCALE.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/persistence/device/
      - https://truecharts.org/scale/guides/pci-passthrough/

  - name: Middlewares
    description: Traefik Middlewares

  - name: StorageClass
    description: |
      StorageClasses define where to storage Storage.

      Checkout the following documentation for more information:

  - name: Metrics
    description: |
      Contains options to configure Prometheus metrics for the application.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/metrics/


  - name: Addons
    description: |
      Addons that are supplied by the TrueCharts team to add additional capabilities for users to use on top of the application’s defaults.
      Things included here are VPN addons, Codeserver for editing files inside the application’s container, Netshoot for network troubelshooting, etc.

      Generally not required for use but may be necessary or usefull at times for specific applications.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/addons/
      - https://truecharts.org/scale/guides/vpn-setup/


  - name: Experimental
    description: |
      Experimental Configuration Options
      Often these are not fully flushed-out, could randomly break or might not work at-all.

  - name: Postgresql
    description: |
      For Postgresql we use "CloudNative-PG" as a backend, which has to be installed first.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/cnpg/
      - https://truecharts.org/scale/guides/sql-export/
      - https://truecharts.org/scale/guides/recover-cnpg/

  - name: Dependencies
    description: |
      contains dependency setting for which we, currently, do not have seperate catagories (yet)


  - name: Documentation
    description: |
      We added this section to make everyone aware that OpenSource isn't always easy.
      It doesn't keep existing without signficant ongoing support, so please consider supporting TrueCharts and other OpenSource projects.

      Before installing, be sure you've followed the https://truecharts.org/scale/guides/getting-started/
      We would also advice going over our https://truecharts.org/scale/guides/scale-intro/
      and many of the other documentation pages...

portals:
  open:
    protocols:
      - "$kubernetes-resource_configmap_tcportal-open_protocol"
    host:
      - "$kubernetes-resource_configmap_tcportal-open_host"
    ports:
      - "$kubernetes-resource_configmap_tcportal-open_port"

questions:
  - variable: global
    group: General
    label: "Global Settings"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: stopAll
          label: Stop All
          description: "Stops All Running pods and hibernates cnpg"
          schema:
            type: boolean
            default: false

  - variable: workload
    group: "Workload"
    label: ""
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: ""
          schema:
            additional_attrs: true
            type: dict
            attrs:

              - variable: type
                label: Type (Advanced)
                schema:
                  type: string
                  default: Deployment
                  enum:
                    - value: Deployment
                      description: Deployment
                    - value: DaemonSet
                      description: DaemonSet

              - variable: replicas
                label: Replicas (Advanced)
                description: Set the number of Replicas
                schema:
                  type: int
                  show_if: [["type", "!=", "DaemonSet"]]
                  default: 1

              - variable: podSpec
                label: ""
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: containers
                      label: Containers
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:

                          - variable: main
                            label: Main Container
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:

                                - variable: envList
                                  label: Extra Environment Variables
                                  description: "Please be aware that some variables are set in the background, adding duplicates here might cause issues or prevent the app from starting..."
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: envItem
                                        label: Environment Variable
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: Name
                                              schema:
                                                type: string
                                            - variable: value
                                              label: Value
                                              schema:
                                                type: string
                                - variable: extraArgs
                                  label: Extra Args
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: arg
                                        label: Arg
                                        schema:
                                          type: string

                                - variable: advanced
                                  label: Show Advanced Settings
                                  description: Advanced settings are not covered by TrueCharts Support
                                  schema:
                                    type: boolean
                                    default: false
                                    show_subquestions_if: true
                                    subquestions:
                                      - variable: command
                                        label: Command
                                        schema:
                                          type: list
                                          default: []
                                          items:
                                            - variable: param
                                              label: Param
                                              schema:
                                                type: string

  - variable: TZ
    label: Timezone
    group: "General"
    schema:
      type: string
      default: "Etc/UTC"
      $ref:
        - "definitions/timezone"

  - variable: nextcloud
    group: App Configuration
    label: Nextcloud
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: credentials
          label: Initial Credentials
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: initialAdminUser
                label: Initial Admin User
                description: Sets the initial admin username
                schema:
                  type: string
                  required: true
                  default: ""
              - variable: initialAdminPassword
                label: Initial Admin Password
                description: Sets the initial admin password
                schema:
                  type: string
                  required: true
                  private: true
                  default: ""
        - variable: general
          label: General
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: run_optimize
                label: Run Optimize Scripts
                description: |
                  Runs the following commands at startup:</br>
                  occ db:add-missing-indices</br>
                  occ db:add-missing-columns</br>
                  occ db:add-missing-primary-keys</br>
                  yes | occ db:convert-filecache-bigint</br>
                  occ maintenance:mimetype:update-js</br>
                  occ maintenance:mimetype:update-db</br>
                  occ maintenance:update:htaccess</br>
                schema:
                  type: boolean
                  default: false
              - variable: default_phone_region
                label: Default Phone Region
                description: |
                  Sets the default phone region in ISO_3166-1 format (e.g. US).</br>
                  https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2#Officially_assigned_code_elements
                schema:
                  type: string
                  valid_chars: '^[A-Z]{2}$'
                  required: true
                  default: ""
              - variable: accessIP
                label: Access IP
                description: Set to the IP-Address used to reach Nextcloud.
                schema:
                  type: string
                  required: true
                  $ref:
                    - "definitions/nodeIP"
              - variable: force_enable_allow_local_remote_servers
                label: Force Enable Allow Local Remote Servers
                description:
                  Enables 'allow_local_remote_servers' option
                schema:
                  type: boolean
                  default: false
        - variable: files
          label: Files Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: shared_folder_name
                label: Shared Folder Name
                schema:
                  type: string
                  required: true
                  default: Shared
              - variable: max_chunk_size
                label: Max Chunk Size
                schema:
                  type: int
                  required: true
                  default: 10485760
        - variable: expirations
          label: Expirations Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: activity_expire_days
                label: Activity Expire Days
                schema:
                  type: int
                  required: true
                  default: 90
              - variable: trash_retention_obligation
                label: Trash Retention Obligation
                schema:
                  type: string
                  required: true
                  default: auto
              - variable: versions_retention_obligation
                label: Versions Retention Obligation
                schema:
                  type: string
                  required: true
                  default: auto
        - variable: previews
          label: Previews Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Previews
                schema:
                  type: boolean
                  default: true
                  show_subquestions_if: true
                  subquestions:
                    - variable: imaginary
                      label: Enable imaginary
                      description: |
                        Enable imaginary to generate previews in the background.</br>
                        It will also deploy the needed container.
                      schema:
                        type: boolean
                        default: true
                    - variable: cron
                      label: Enable cron
                      description: |
                        Enable cron to generate previews in the background.
                      schema:
                        type: boolean
                        default: true
                    - variable: schedule
                      label: Cron Schedule
                      schema:
                        type: string
                        default: "*/30 * * * *"
                    - variable: max_x
                      label: Max X
                      schema:
                        type: int
                        required: true
                        default: 2048
                    - variable: max_y
                      label: Max Y
                      schema:
                        type: int
                        required: true
                        default: 2048
                    - variable: max_memory
                      label: Max Memory
                      schema:
                        type: int
                        required: true
                        default: 1024
                    - variable: max_allowed_resolution
                      label: Max Allowed Resolution
                      schema:
                        type: string
                        valid_chars: '^[0-9]{1,5}(\.[0-9]{1,2})?$'
                        show_if: [["imaginary", "=", true]]
                        required: true
                        default: "18.0"
                    - variable: max_file_size_image
                      label: Max File Size Image
                      schema:
                        type: int
                        required: true
                        default: 50
                    - variable: jpeg_quality
                      label: JPEG Quality
                      schema:
                        type: int
                        required: true
                        default: 60
                    - variable: square_sizes
                      label: Square Sizes
                      schema:
                        type: string
                        required: true
                        default: "32 256"
                    - variable: width_sizes
                      label: Width Sizes
                      schema:
                        type: string
                        required: true
                        default: "256 384"
                    - variable: height_sizes
                      label: Height Sizes
                      schema:
                        type: string
                        required: true
                        default: "256"
                    - variable: providers
                      label: Providers
                      schema:
                        type: list
                        empty: false
                        required: true
                        default:
                          - BMP
                          - GIF
                          - JPEG
                          - Krita
                          - MarkDown
                          - MP3
                          - OpenDocument
                          - PNG
                          - TXT
                          - XBitmap
                        items:
                          - variable: provider_entry
                            label: Provider Entry
                            schema:
                              type: string
                              required: true
                              default: ""
                              enum:
                                - value: BMP
                                  description: BMP
                                - value: Font
                                  description: Font
                                - value: GIF
                                  description: GIF
                                - value: HEIC
                                  description: HEIC
                                - value: Illustrator
                                  description: Illustrator
                                - value: JPEG
                                  description: JPEG
                                - value: Krita
                                  description: Krita
                                - value: MarkDown
                                  description: MarkDown
                                - value: Movie
                                  description: Movie
                                - value: MP3
                                  description: MP3
                                - value: MSOffice2003
                                  description: MSOffice2003
                                - value: MSOffice2007
                                  description: MSOffice2007
                                - value: MSOfficeDoc
                                  description: MSOfficeDoc
                                - value: OpenDocument
                                  description: OpenDocument
                                - value: PDF
                                  description: PDF
                                - value: Photoshop
                                  description: Photoshop
                                - value: PNG
                                  description: PNG
                                - value: Postscript
                                  description: Postscript
                                - value: StarOffice
                                  description: StarOffice
                                - value: SVG
                                  description: SVG
                                - value: TIFF
                                  description: TIFF
                                - value: TXT
                                  description: TXT
                                - value: XBitmap
                                  description: XBitmap
        - variable: logging
          label: Logging Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: log_level
                label: Log Level
                schema:
                  type: int
                  required: true
                  default: 2
                  enum:
                    - value: 0
                      description: Debug
                    - value: 1
                      description: Info
                    - value: 2
                      description: Warning
                    - value: 3
                      description: Error
                    - value: 4
                      description: Fatal
              - variable: log_date_format
                label: Log Date Format
                schema:
                  type: string
                  required: true
                  default: d/m/Y H:i:s
        - variable: notify_push
          label: Notify Push Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Notify Push
                description: |
                  Enable and Configure Notify Push.</br>
                  It will also deploy the needed container
                schema:
                  type: boolean
                  default: true
        - variable: clamav
          label: ClamAV Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable ClamAV
                description: |
                  Enable and configure ClamAV.</br>
                  It will also deploy the needed container.</br>
                  Keep in mind that this will run as root.</br>
                  https://github.com/Cisco-Talos/clamav/issues/478
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: stream_max_length
                      label: Stream Max Length
                      schema:
                        type: int
                        required: true
                        default: 104857600
                    - variable: file_max_size
                      label: File Max Size
                      schema:
                        type: int
                        required: true
                        default: -1
                    - variable: infected_action
                      label: Infected Action
                      schema:
                        type: string
                        required: true
                        default: only_log
                        enum:
                          - value: delete
                            description: Delete
                          - value: only_log
                            description: Only Log
        - variable: collabora
          label: Collabora Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Collabora
                description: |
                  Enable and configure Collabora.</br>
                  It will also deploy the needed container.</br>
                  Keep in mind that this will run as root.
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: interface_mode
                      label: Interface Mode
                      schema:
                        type: string
                        required: true
                        default: default
                        enum:
                          - value: default
                            description: Default
                          - value: compact
                            description: Compact
                          - value: tabbed
                            description: Tabbed
                    - variable: username
                      label: Username
                      schema:
                        type: string
                        default: admin
                        required: true
                    - variable: password
                      label: Password
                      schema:
                        type: string
                        default: ""
                        required: true
                    - variable: dictionaries
                      label: Dictionaries
                      schema:
                        type: list
                        empty: false
                        required: true
                        default:
                          - de_DE
                          - en_GB
                          - en_US
                          - el_GR
                          - es_ES
                          - fr_FR
                          - pt_BR
                          - pt_PT
                          - it
                          - nl
                          - ru
                        items:
                          - variable: dictionary
                            label: Dictionary
                            schema:
                              type: string
                              required: true
                              default: ""
        - variable: onlyoffice
          label: Only Office Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable OnlyOffice
                description: |
                  Enable and configure OnlyOffice.</br>
                  This will NOT deploy the needed container.</br>
                  You need to deploy it yourself.
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: url
                      label: Public URL
                      description: |
                        The public FQDN and port of the OnlyOffice Document Server
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: internal_url
                      label: Internal URL
                      description: |
                        The internal FQDN and port of the OnlyOffice Document Server
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: verify_ssl
                      label: Verify SSL (Advanced)
                      description: |
                        Verify SSL when connecting to OnlyOffice Document Server
                      schema:
                        type: boolean
                        default: true
                    - variable: jwt
                      label: JWT
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: jwt_header
                      label: JWT Header
                      schema:
                        type: string
                        required: true
                        default: Authorization
        - variable: php
          label: PHP Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: memory_limit
                label: Memory Limit
                schema:
                  type: string
                  required: true
                  default: 1G
              - variable: upload_limit
                label: Upload Limit
                schema:
                  type: string
                  required: true
                  default: 10G
              - variable: pm_max_children
                label: Max Children
                schema:
                  type: int
                  required: true
                  default: 180
              - variable: pm_start_servers
                label: Start Servers
                schema:
                  type: int
                  required: true
                  default: 18
              - variable: pm_min_spare_servers
                label: Minimum Spare Servers
                schema:
                  type: int
                  required: true
                  default: 12
              - variable: pm_max_spare_servers
                label: Maximum Spare Servers
                schema:
                  type: int
                  required: true
                  default: 30
        - variable: opcache
          label: OPCache Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: interned_strings_buffer
                label: Interned Strings Buffer
                description: The amount of memory used to store interned strings, in megabytes.
                schema:
                  type: int
                  required: true
                  default: 32
              - variable: max_accelerated_files
                label: Max Accelerated Files
                description: The maximum number of keys (and therefore scripts) in the OPcache hash table.
                schema:
                  type: int
                  required: true
                  default: 10000
              - variable: memory_consumption
                label: Memory Consumption
                description: The size of the shared memory storage used by OPcache, in megabytes.
                schema:
                  type: int
                  required: true
                  default: 128
              - variable: revalidate_freq
                label: Revalidate Frequency
                description: How often to check script timestamps for updates, in seconds. 0 will result in OPcache checking for updates on every request.
                schema:
                  type: int
                  required: true
                  default: 60
              - variable: jit_buffer_size
                label: JIT Buffer Size
                description: The amount of shared memory (in megabytes) to reserve for compiled JIT code. A zero value disables the JIT.
                schema:
                  type: int
                  required: true
                  default: 128
  - variable: serviceList
    label: Add Manual Custom Services
    group: Services
    schema:
      type: list
      default: []
      items:
        - variable: serviceListEntry
          label: Custom Service
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the service
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: name
                label: Name
                schema:
                  type: string
                  default: ""
              - variable: type
                label: Service Type
                description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                schema:
                  type: string
                  default: LoadBalancer
                  enum:
                    - value: LoadBalancer
                      description: LoadBalancer (Expose Ports)
                    - value: ClusterIP
                      description: ClusterIP (Do Not Expose Ports)
                    - value: Simple
                      description: Deprecated CHANGE THIS
              - variable: loadBalancerIP
                label: LoadBalancer IP
                description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                schema:
                  show_if: [["type", "=", "LoadBalancer"]]
                  type: string
                  default: ""
              - variable: advancedsvcset
                label: Show Advanced Service Settings
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: externalIPs
                      label: "External IP's"
                      description: "External IP's"
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: externalIP
                            label: External IP
                            schema:
                              type: string
                    - variable: ipFamilyPolicy
                      label: IP Family Policy
                      description: Specify the IP Policy
                      schema:
                        type: string
                        default: SingleStack
                        enum:
                          - value: SingleStack
                            description: SingleStack
                          - value: PreferDualStack
                            description: PreferDualStack
                          - value: RequireDualStack
                            description: RequireDualStack
                    - variable: ipFamilies
                      label: IP Families
                      description: (Advanced) The IP Families that should be used
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: ipFamily
                            label: IP Family
                            schema:
                              type: string
              - variable: portsList
                label: Additional Service Ports
                schema:
                  type: list
                  default: []
                  items:
                    - variable: portsListEntry
                      label: Custom ports
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: Enable the Port
                            schema:
                              type: boolean
                              default: true
                              hidden: true
                          - variable: name
                            label: Port Name
                            schema:
                              type: string
                              default: ""
                          - variable: protocol
                            label: Port Type
                            schema:
                              type: string
                              default: tcp
                              enum:
                                - value: http
                                  description: HTTP
                                - value: https
                                  description: HTTPS
                                - value: tcp
                                  description: TCP
                                - value: udp
                                  description: UDP
                          - variable: targetPort
                            label: Target Port
                            description: This port exposes the container port on the service
                            schema:
                              type: int
                              required: true
                          - variable: port
                            label: Container Port
                            schema:
                              type: int
                              required: true

  - variable: persistence
    label: Integrated Persistent Storage
    description: Integrated Persistent Storage
    group: Persistence
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: html
          label: App HTML Storage
          description: Stores the Application HTML.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
                    - value: iscsi
                      description: iSCSI Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""

              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: disabled
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

        - variable: config
          label: App Config Storage
          description: Stores the Application Config.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
                    - value: iscsi
                      description: iSCSI Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""

              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: disabled
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

        - variable: data
          label: User Data Storage
          description: Stores the User Data.
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
                    - value: iscsi
                      description: iSCSI Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""

              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: disabled
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

  - variable: persistenceList
    label: Additional App Storage
    group: Persistence
    schema:
      type: list
      default: []
      items:
        - variable: persistenceListEntry
          label: Custom Storage
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the storage
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: hostPath
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: mountPath
                label: Mount Path
                description: Path inside the container the storage is mounted
                schema:
                  type: string
                  default: ""
                  required: true
                  valid_chars: '^\/([a-zA-Z0-9._-]+(\s?[a-zA-Z0-9._-]+|\/?))+$'
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size Quotum of Storage
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: "disabled"
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

  - variable: ingress
    label: ""
    group: Ingress
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: main
          label: Main Ingress
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Ingress
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: hosts
                      label: Hosts
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: hostEntry
                            label: Host
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: host
                                  label: HostName
                                  schema:
                                    type: string
                                    default: ""
                                    required: true
                                - variable: paths
                                  label: Paths
                                  schema:
                                    type: list
                                    default: [{path: "/", pathType: "Prefix"}]
                                    items:
                                      - variable: pathEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: path
                                              label: Path
                                              schema:
                                                type: string
                                                required: true
                                                default: "/"
                                            - variable: pathType
                                              label: Path Type
                                              schema:
                                                type: string
                                                required: true
                                                default: Prefix

                    - variable: integrations
                      label: Integrations
                      description: Connect ingress with other charts
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: traefik
                            label: Traefik
                            description: Connect ingress with Traefik
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: enabled
                                  schema:
                                    type: boolean
                                    default: true
                                - variable: allowCors
                                  label: 'Allow Cross Origin Requests (advanced)'
                                  schema:
                                    type: boolean
                                    default: false
                                    show_if: [["enabled", "=", true]]
                                - variable: entrypoints
                                  label: Entrypoints
                                  schema:
                                    type: list
                                    default: ["websecure"]
                                    show_if: [["enabled", "=", true]]
                                    items:
                                      - variable: entrypoint
                                        label: Entrypoint
                                        schema:
                                          type: string
                                - variable: middlewares
                                  label: Middlewares
                                  schema:
                                    type: list
                                    default: []
                                    show_if: [["enabled", "=", true]]
                                    items:
                                      - variable: middleware
                                        label: Middleware
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: name
                                              schema:
                                                type: string
                                                default: ""
                                                required: true
                                            - variable: namespace
                                              label: 'namespace (optional)'
                                              schema:
                                                type: string
                                                default: ""
                          - variable: certManager
                            label: certManager
                            description: Connect ingress with certManager
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: enabled
                                  schema:
                                    type: boolean
                                    default: false
                                - variable: certificateIssuer
                                  label: certificateIssuer
                                  description: defaults to chartname
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                          - variable: homepage
                            label: Homepage
                            description: Connect ingress with Homepage
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: enabled
                                  schema:
                                    type: boolean
                                    default: false
                                - variable: name
                                  label: Name (Optional)
                                  description: Defaults to chart name
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                                - variable: description
                                  label: Description (Optional)
                                  description: Defaults to chart description
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                                - variable: icon
                                  label: Icon (Optional)
                                  description: Defaults to chart icon
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                                - variable: group
                                  label: Group
                                  schema:
                                    type: string
                                    required: true
                                    default: "default"
                                    show_if: [["enabled", "=", true]]
                                - variable: widget
                                  label: Widget Settings
                                  schema:
                                    type: dict
                                    additional_attrs: true
                                    show_if: [["enabled", "=", true]]
                                    attrs:
                                      - variable: enabled
                                        label: Enable Widget
                                        description: When disabled all widget annotations are skipped.
                                        schema:
                                          type: boolean
                                          default: true
                                      - variable: custom
                                        label: Options
                                        schema:
                                          type: dict
                                          additional_attrs: true
                                          attrs:
                                            - variable: key
                                              label: API-key (key)
                                              schema:
                                                type: string
                                                default: ""
                                      - variable: customkv
                                        label: Custom Options
                                        schema:
                                          type: list
                                          default: []
                                          items:
                                            - variable: option
                                              label: Option
                                              schema:
                                                additional_attrs: true
                                                type: dict
                                                attrs:
                                                  - variable: key
                                                    label: Key
                                                    schema:
                                                      type: string
                                                      default: ""
                                                      required: true
                                                  - variable: value
                                                    label: Value
                                                    schema:
                                                      type: string
                                                      default: ""
                                                      required: true
                    - variable: advanced
                      label: Show Advanced Settings
                      description: Advanced settings are not covered by TrueCharts Support
                      schema:
                        type: boolean
                        default: false
                    - variable: ingressClassName
                      label: (Advanced/Optional) IngressClass Name
                      schema:
                        type: string
                        show_if: [["advanced", "=", true]]
                        default: ""
                    - variable: tls
                      label: TLS-Settings
                      schema:
                        type: list
                        show_if: [["advanced", "=", true]]
                        default: []
                        items:
                          - variable: tlsEntry
                            label: Host
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: hosts
                                  label: Certificate Hosts
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: host
                                        label: Host
                                        schema:
                                          type: string
                                          default: ""
                                          required: true

                                - variable: certificateIssuer
                                  label: Use Cert-Manager clusterIssuer
                                  description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates.'
                                  schema:
                                    type: string
                                    default: ""
                                - variable: clusterCertificate
                                  label:  'Cluster Certificate (Advanced)'
                                  description: 'Add the name of your cluster-wide certificate, that you set up in the ClusterIssuer chart.'
                                  schema:
                                    type: string
                                    show_if: [["certificateIssuer", "=", ""]]
                                    default: ""
                                - variable: secretName
                                  label: 'Use Custom Certificate Secret (Advanced)'
                                  schema:
                                    show_if: [["certificateIssuer", "=", ""]]
                                    type: string
                                    default: ""

  - variable: ingressList
    label: Add Manual Custom Ingresses
    group: Ingress
    schema:
      type: list
      default: []
      items:
        - variable: ingressListEntry
          label: Custom Ingress
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Ingress
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: name
                label: Name
                schema:
                  type: string
                  default: ""
              - variable: ingressClassName
                label: IngressClass Name
                schema:
                  type: string
                  default: ""
              - variable: hosts
                label: Hosts
                schema:
                  type: list
                  default: []
                  items:
                    - variable: hostEntry
                      label: Host
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: host
                            label: HostName
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: paths
                            label: Paths
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: pathEntry
                                  label: Host
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: path
                                        label: Path
                                        schema:
                                          type: string
                                          required: true
                                          default: "/"
                                      - variable: pathType
                                        label: Path Type
                                        schema:
                                          type: string
                                          required: true
                                          default: Prefix
                                      - variable: overrideService
                                        label: Linked Service
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: Service Name
                                              schema:
                                                type: string
                                                default: ""
                                            - variable: port
                                              label: Service Port
                                              schema:
                                                type: int
              - variable: tls
                label: TLS-Settings
                schema:
                  type: list
                  default: []
                  show_if: [["certificateIssuer", "=", ""]]
                  items:
                    - variable: tlsEntry
                      label: Host
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: hosts
                            label: Certificate Hosts
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: host
                                  label: Host
                                  schema:
                                    type: string
                                    default: ""
                                    required: true
                          - variable: certificateIssuer
                            label: Use Cert-Manager clusterIssuer
                            description: 'add the name of your Cert-Manager clusterIssuer here for automatic tls certificates.'
                            schema:
                              type: string
                              default: ""
                          - variable: clusterCertificate
                            label:  'Cluster Certificate (Advanced)'
                            description: 'Add the name of your cluster-wide certificate, that you set up in the ClusterIssuer chart.'
                            schema:
                              type: string
                              show_if: [["certificateIssuer", "=", ""]]
                              default: ""
                          - variable: secretName
                            label: Use Custom Secret (Advanced)
                            schema:
                              type: string
                              show_if: [["certificateIssuer", "=", ""]]
                              default: ""
              - variable: integrations
                label: Integrations
                description: Connect ingress with other charts
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: traefik
                      label: Traefik
                      description: Connect ingress with Traefik
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: enabled
                            schema:
                              type: boolean
                              default: true
                          - variable: allowCors
                            label: "Allow Cross Origin Requests"
                            schema:
                              type: boolean
                              default: false
                              show_if: [["enabled", "=", true]]
                          - variable: entrypoints
                            label: Entrypoints
                            schema:
                              type: list
                              default: ["websecure"]
                              show_if: [["enabled", "=", true]]
                              items:
                                - variable: entrypoint
                                  label: Entrypoint
                                  schema:
                                    type: string
                          - variable: middlewares
                            label: Middlewares
                            schema:
                              type: list
                              default: []
                              show_if: [["enabled", "=", true]]
                              items:
                                - variable: middleware
                                  label: Middleware
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: name
                                        label: name
                                        schema:
                                          type: string
                                          default: ""
                                          required: true
                                      - variable: namespace
                                        label: namespace
                                        schema:
                                          type: string
                                          default: ""
                    - variable: certManager
                      label: certManager
                      description: Connect ingress with certManager
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: enabled
                            schema:
                              type: boolean
                              default: true
                          - variable: certificateIssuer
                            label: certificateIssuer
                            description: defaults to chartname
                            schema:
                              type: string
                              default: ""
                              show_if: [["enabled", "=", true]]
                    - variable: homepage
                      label: Homepage
                      description: Connect ingress with Homepage
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: enabled
                            schema:
                              type: boolean
                              default: false
                          - variable: name
                            label: Name
                            description: defaults to chartname
                            schema:
                              type: string
                              default: ""
                              show_if: [["enabled", "=", true]]
                          - variable: description
                            label: Description
                            description: defaults to chart description
                            schema:
                              type: string
                              default: ""
                              show_if: [["enabled", "=", true]]
                          - variable: group
                            label: Group
                            schema:
                              type: string
                              required: true
                              default: "default"
                              show_if: [["enabled", "=", true]]

  - variable: securityContext
    group: SecurityContext
    label: Security Context
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: container
          label: Container
          schema:
            additional_attrs: true
            type: dict
            attrs:
              # Settings from questions.yaml get appended here on a per-app basis

              - variable: runAsUser
                label: runAsUser
                description: The UserID of the user running the application
                schema:
                  type: int
                  default: 568
              - variable: runAsGroup
                label: runAsGroup
                description: The groupID of the user running the application
                schema:
                  type: int
                  default: 568
              # Settings from questions.yaml get appended here on a per-app basis
              - variable: PUID
                label: Process User ID - PUID
                description: When supported by the container, this sets the User ID running the Application Process. Not supported by all Apps
                schema:
                  type: int
                  show_if: [["runAsUser", "=", 0]]
                  default: 568
              - variable: UMASK
                label: UMASK
                description: When supported by the container, this sets the UMASK for the App. Not supported by all Apps
                schema:
                  type: string
                  default: "0022"

              - variable: advanced
                label: Show Advanced Settings
                description: Advanced settings are not covered by TrueCharts Support
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: privileged
                      label: "Privileged mode"
                      schema:
                        type: boolean
                        default: false
                    - variable: readOnlyRootFilesystem
                      label: "ReadOnly Root Filesystem"
                      schema:
                        type: boolean
                        default: true

        - variable: pod
          label: Pod
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: fsGroupChangePolicy
                label: "When should we take ownership?"
                schema:
                  type: string
                  default: OnRootMismatch
                  enum:
                    - value: OnRootMismatch
                      description: OnRootMismatch
                    - value: Always
                      description: Always
              - variable: supplementalGroups
                label: Supplemental Groups
                schema:
                  type: list
                  default: []
                  items:
                    - variable: supplementalGroupsEntry
                      label: Supplemental Group
                      schema:
                        type: int
              # Settings from questions.yaml get appended here on a per-app basis

              - variable: fsGroup
                label: fsGroup
                description: The group that should own ALL storage.
                schema:
                  type: int
                  default: 568
  - variable: resources
    group: Resources
    label: "Resource Limits"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: limits
          label: Advanced Limit Resource Consumption
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: cpu
                label: CPU
                description: "1000m means 1 hyperthread. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 4000m
                  valid_chars: '^(?!^0(\.0|m|)$)([0-9]+)(\.[0-9]|m?)$'
              - variable: memory
                label: RAM
                description: "1Gi means 1 Gibibyte RAM. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 8Gi
                  valid_chars: '^(?!^0(e[0-9]|[EPTGMK]i?|)$)([0-9]+)(|[EPTGMK]i?|e[0-9]+)$'
              - variable: 'gpu.intel.com/i915'
                label: Add Intel i915 GPUs
                schema:
                  type: int
                  default: 0
              - variable: 'nvidia.com/gpu'
                label: Add NVIDIA GPUs (Experimental)
                schema:
                  type: int
                  default: 0
              - variable: 'amd.com/gpu'
                label: Add AMD GPUs
                schema:
                  type: int
                  default: 0
        - variable: requests
          label: "Minimum Resources Required (request)"
          schema:
            additional_attrs: true
            type: dict
            hidden: true
            attrs:
              - variable: cpu
                label: CPU
                description: "1000m means 1 hyperthread. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 10m
                  hidden: true
                  valid_chars: '^(?!^0(\.0|m|)$)([0-9]+)(\.[0-9]|m?)$'
              - variable: memory
                label: "RAM"
                description: "1Gi means 1 Gibibyte RAM. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 50Mi
                  hidden: true
                  valid_chars: '^(?!^0(e[0-9]|[EPTGMK]i?|)$)([0-9]+)(|[EPTGMK]i?|e[0-9]+)$'
  - variable: deviceList
    label: Mount USB Devices
    group: Devices
    schema:
      type: list
      default: []
      items:
        - variable: deviceListEntry
          label: Device
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the Storage
                schema:
                  type: boolean
                  default: true
              - variable: type
                label: (Advanced) Type of Storage
                description: Sets the persistence type
                schema:
                  type: string
                  default: device
                  hidden: true
              - variable: readOnly
                label: readOnly
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Device Path
                description: Path to the device on the host system
                schema:
                  type: path
              - variable: mountPath
                label: Container Device Path
                description: Path inside the container the device is mounted
                schema:
                  type: string
                  default: "/dev/ttyACM0"

  - variable: cnpg
    group: Postgresql
    label: "CloudNative-PG (CNPG)"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: "Main Postgresql Database"
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: hibernate
                label: Hibernate
                description: "enable to safely hibernate and shutdown the postgresql cluster"
                schema:
                  type: boolean
                  default: false
              - variable: mode
                label: Mode
                description: 'Cluster mode of operation. Available modes: standalone - default mode. Creates new or updates an existing CNPG cluster. recovery - Same as standalone but creates a cluster from a backup, object store or via pg_basebackup replica - Creates a replica cluster from an existing CNPG cluster. # TODO.'
                schema:
                  type: string
                  default: "standalone"
                  enum:
                    - value: standalone
                      description: standalone
                    - value: replica
                      description: replica
                    - value: recovery
                      description: recovery
              - variable: pgVersion
                label: Postgres Version
                description: "Set the Postgresql version used"
                schema:
                  type: int
                  default: 16
                  required: true
              - variable: password
                label: Password
                description: "Set the password for the database-user"
                schema:
                  type: string
                  default: "PLACEHOLDERPASSWORD"
                  required: true
              - variable: cluster
                label: "Cluster Settings"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: instances
                      label: Instances
                      schema:
                        type: int
                        default: 1
                    - variable: singleNode
                      label: singleNode
                      schema:
                        type: boolean
                        default: true
                        hidden: true
                    - variable: storage
                      label: "Storage"
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: size
                            label: Size
                            schema:
                              type: string
                              default: "256Gi"
                    - variable: walStorage
                      label: "WAL Storage"
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: size
                            label: Size
                            schema:
                              type: string
                              default: "256Gi"
              - variable: monitoring
                label: "Monitoring Settings"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enablePodMonitor
                      label: "enablePodMonitor"
                      schema:
                        type: boolean
                        default: true
                    - variable: disableDefaultQueries
                      label: "disableDefaultQueries"
                      schema:
                        type: boolean
                        default: false
              - variable: pooler
                label: "Pooler Settings"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: Enabled
                      schema:
                        type: boolean
                        default: false
                    - variable: instances
                      label: Instances
                      schema:
                        type: int
                        show_if: [["enabled", "=", true]]
                        default: 1
                    - variable: createRO
                      label: "Create ReadOnly Instance"
                      schema:
                        type: boolean
                        show_if: [["enabled", "=", true]]
                        default: false
              - variable: backups
                label: "Backup Settings (Experimental)"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: "enabled"
                      schema:
                        type: boolean
                        default: false
                    - variable: serverName
                      label: "serverName"
                      schema:
                        type: string
                        default: ""
                    - variable: revision
                      label: "revision"
                      schema:
                        type: string
                        default: ""
                    - variable: endpointURL
                      label: "endpointURL"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                    - variable: destinationPath
                      label: "destinationPath"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                    - variable: retentionPolicy
                      label: "retentionPolicy"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: "30d"
                    - variable: provider
                      label: "provider"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: "s3"
                        enum:
                         - value: s3
                           description: S3
                         - value: azure
                           description: Azure
                         - value: google
                           description: Google
                    - variable: s3
                      label: "s3"
                      schema:
                        additional_attrs: true
                        type: dict
                        show_if: [["provider", "=", "s3"]]
                        attrs:
                          - variable: region
                            label: "region"
                            schema:
                              type: string
                              default: ""
                          - variable: bucket
                            label: "bucket"
                            schema:
                              type: string
                              default: ""
                          - variable: path
                            label: "path"
                            schema:
                              type: string
                              default: "/"
                          - variable: accessKey
                            label: "accessKey"
                            schema:
                              type: string
                              default: ""
                          - variable: secretKey
                            label: "secretKey"
                            schema:
                              type: string
                              default: ""
                    - variable: azure
                      label: "azure (EXTREMELY EXPERIMENTAL)"
                      schema:
                        additional_attrs: true
                        type: dict
                        show_if: [["provider", "=", "azure"]]
                        attrs:
                          - variable: path
                            label: "path"
                            schema:
                              type: string
                              default: "/"
                          - variable: connectionString
                            label: "connectionString"
                            schema:
                              type: string
                              default: ""
                          - variable: storageAccount
                            label: "storageAccount"
                            schema:
                              type: string
                              default: ""
                          - variable: storageKey
                            label: "storageKey"
                            schema:
                              type: string
                              show_if: [["enabled", "=", true]]
                              default: ""
                          - variable: storageSasToken
                            label: "storageSasToken"
                            schema:
                              type: string
                              default: ""
                          - variable: containerName
                            label: "containerName"
                            schema:
                              type: string
                              default: ""
                          - variable: serviceName
                            label: "serviceName"
                            schema:
                              type: string
                              default: "blob"
                          - variable: inheritFromAzureAD
                            label: "inheritFromAzureAD"
                            schema:
                              type: boolean
                              default: false
                    - variable: google
                      label: "google (EXTREMELY EXPERIMENTAL)"
                      schema:
                        additional_attrs: true
                        type: dict
                        show_if: [["provider", "=", "google"]]
                        attrs:
                          - variable: path
                            label: "path"
                            schema:
                              type: string
                              default: "/"
                          - variable: bucket
                            label: "bucket"
                            schema:
                              type: string
                              default: ""
                          - variable: gkeEnvironment
                            label: "gkeEnvironment"
                            schema:
                              type: string
                              default: ""
                          - variable: applicationCredentials
                            label: "applicationCredentials"
                            schema:
                              type: string
                              default: ""
              - variable: recovery
                label: "Recovery Settings (Experimental)"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: "enabled"
                      schema:
                        type: boolean
                        default: false
                    - variable: serverName
                      label: "serverName"
                      schema:
                        type: string
                        default: ""
                    - variable: revision
                      label: "revision"
                      schema:
                        type: string
                        default: ""
                    - variable: endpointURL
                      label: "endpointURL"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                    - variable: method
                      label: "method"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: "object_store"
                    - variable: backupName
                      label: "backupName"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                    - variable: provider
                      label: "provider"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: "s3"
                        enum:
                         - value: s3
                           description: S3
                         - value: azure
                           description: Azure
                         - value: google
                           description: Google
                    - variable: s3
                      label: "s3"
                      schema:
                        additional_attrs: true
                        type: dict
                        show_if: [["provider", "=", "s3"]]
                        attrs:
                          - variable: region
                            label: "region"
                            schema:
                              type: string
                              default: ""
                          - variable: bucket
                            label: "bucket"
                            schema:
                              type: string
                              default: ""
                          - variable: path
                            label: "path"
                            schema:
                              type: string
                              default: "/"
                          - variable: accessKey
                            label: "accessKey"
                            schema:
                              type: string
                              default: ""
                          - variable: secretKey
                            label: "secretKey"
                            schema:
                              type: string
                              default: ""
                    - variable: azure
                      label: "azure (EXTREMELY EXPERIMENTAL)"
                      schema:
                        additional_attrs: true
                        type: dict
                        show_if: [["provider", "=", "azure"]]
                        attrs:
                          - variable: path
                            label: "path"
                            schema:
                              type: string
                              default: "/"
                          - variable: connectionString
                            label: "connectionString"
                            schema:
                              type: string
                              default: ""
                          - variable: storageAccount
                            label: "storageAccount"
                            schema:
                              type: string
                              default: ""
                          - variable: storageKey
                            label: "storageKey"
                            schema:
                              type: string
                              default: ""
                          - variable: storageSasToken
                            label: "storageSasToken"
                            schema:
                              type: string
                              default: ""
                          - variable: containerName
                            label: "containerName"
                            schema:
                              type: string
                              default: ""
                          - variable: serviceName
                            label: "serviceName"
                            schema:
                              type: string
                              default: "blob"
                          - variable: inheritFromAzureAD
                            label: "inheritFromAzureAD"
                            schema:
                              type: boolean
                              default: false
                    - variable: google
                      label: "google (EXTREMELY EXPERIMENTAL)"
                      schema:
                        additional_attrs: true
                        type: dict
                        show_if: [["provider", "=", "google"]]
                        attrs:
                          - variable: path
                            label: "path"
                            schema:
                              type: string
                              default: "/"
                          - variable: bucket
                            label: "bucket"
                            schema:
                              type: string
                              default: ""
                          - variable: gkeEnvironment
                            label: "gkeEnvironment"
                            schema:
                              type: string
                              default: ""
                          - variable: applicationCredentials
                            label: "applicationCredentials"
                            schema:
                              type: string
                              default: ""

  - variable: metrics
    group: Metrics
    label: Prometheus Metrics
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: Main Metrics
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enabled
                description: Enable Prometheus Metrics
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:

                    - variable: prometheusRule
                      label: PrometheusRule
                      description: Enable and configure Prometheus Rules for the App.
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: Enabled
                            description: Enable Prometheus Metrics
                            schema:
                              type: boolean
                              default: false
                          # TODO: Rule List section

#  - variable: horizontalPodAutoscaler
#    group: Experimental
#    label: (Advanced) Horizontal Pod Autoscaler
#    schema:
#      type: list
#      default: []
#      items:
#      - variable: hpaEntry
#        label: HPA Entry
#        schema:
#          additional_attrs: true
#          type: dict
#          attrs:
#            - variable: name
#              label: Name
#              schema:
#                type: string
#                required: true
#                default: ""
#            - variable: enabled
#              label: Enabled
#              schema:
#                type: boolean
#                default: false
#                show_subquestions_if: true
#                subquestions:
#                  - variable: target
#                    label: Target
#                    description: Deployment name, Defaults to Main Deployment
#                    schema:
#                      type: string
#                      default: ""
#                  - variable: minReplicas
#                    label: Minimum Replicas
#                    schema:
#                      type: int
#                      default: 1
#                  - variable: maxReplicas
#                    label: Maximum Replicas
#                    schema:
#                      type: int
#                      default: 5
#                  - variable: targetCPUUtilizationPercentage
#                    label: Target CPU Utilization Percentage
#                    schema:
#                      type: int
#                      default: 80
#                  - variable: targetMemoryUtilizationPercentage
#                    label: Target Memory Utilization Percentage
#                    schema:
#                      type: int
#                      default: 80
  - variable: networkPolicy
    group: Experimental
    label: (Advanced) Network Policy
    schema:
      type: list
      default: []
      items:
      - variable: netPolicyEntry
        label: Network Policy Entry
        schema:
          additional_attrs: true
          type: dict
          attrs:
            - variable: name
              label: Name
              schema:
                type: string
                required: true
                default: ""
            - variable: enabled
              label: Enabled
              schema:
                type: boolean
                default: false
                show_subquestions_if: true
                subquestions:
                  - variable: policyType
                    label: Policy Type
                    schema:
                      type: string
                      default: ""
                      enum:
                        - value: ""
                          description: Default
                        - value: ingress
                          description: Ingress
                        - value: egress
                          description: Egress
                        - value: ingress-egress
                          description: Ingress and Egress
                  - variable: egress
                    label: Egress
                    schema:
                      type: list
                      default: []
                      items:
                        - variable: egressEntry
                          label: ""
                          schema:
                            additional_attrs: true
                            type: dict
                            attrs:
                              - variable: to
                                label: To
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: toEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: ipBlock
                                            label: IP Block
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: cidr
                                                  label: CIDR
                                                  schema:
                                                    type: string
                                                    default: ""
                                                - variable: except
                                                  label: Except
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: exceptint
                                                        label: ""
                                                        schema:
                                                          type: string
                                          - variable: namespaceSelector
                                            label: Namespace Selector
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                                          - variable: podSelector
                                            label: ""
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                              - variable: ports
                                label: Ports
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: portsEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: port
                                            label: Port
                                            schema:
                                              type: int
                                          - variable: endPort
                                            label: End Port
                                            schema:
                                              type: int
                                          - variable: protocol
                                            label: Protocol
                                            schema:
                                              type: string
                                              default: TCP
                                              enum:
                                                - value: TCP
                                                  description: TCP
                                                - value: UDP
                                                  description: UDP
                                                - value: SCTP
                                                  description: SCTP
                  - variable: ingress
                    label: Ingress
                    schema:
                      type: list
                      default: []
                      items:
                        - variable: ingressEntry
                          label: ""
                          schema:
                            additional_attrs: true
                            type: dict
                            attrs:
                              - variable: from
                                label: From
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: fromEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: ipBlock
                                            label: IP Block
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: cidr
                                                  label: CIDR
                                                  schema:
                                                    type: string
                                                    default: ""
                                                - variable: except
                                                  label: Except
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: exceptint
                                                        label: ""
                                                        schema:
                                                          type: string
                                          - variable: namespaceSelector
                                            label: Namespace Selector
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                                          - variable: podSelector
                                            label: ""
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                              - variable: ports
                                label: Ports
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: portsEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: port
                                            label: Port
                                            schema:
                                              type: int
                                          - variable: endPort
                                            label: End Port
                                            schema:
                                              type: int
                                          - variable: protocol
                                            label: Protocol
                                            schema:
                                              type: string
                                              default: TCP
                                              enum:
                                                - value: TCP
                                                  description: TCP
                                                - value: UDP
                                                  description: UDP
                                                - value: SCTP
                                                  description: SCTP

  - variable: addons
    group: Addons
    label: ""
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: codeserver
          label: Codeserver
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: service
                      label: ""
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: type
                            label: Service Type
                            description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                            schema:
                              type: string
                              default: LoadBalancer
                              enum:
                                - value: NodePort
                                  description: Deprecated CHANGE THIS
                                - value: ClusterIP
                                  description: ClusterIP
                                - value: LoadBalancer
                                  description: LoadBalancer
                          - variable: loadBalancerIP
                            label: LoadBalancer IP
                            description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                            schema:
                              show_if: [["type", "=", "LoadBalancer"]]
                              type: string
                              default: ""
                          - variable: ports
                            label: ""
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: codeserver
                                  label: ""
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: port
                                        label: Port
                                        schema:
                                          type: int
                                          default: 36107
                    - variable: ingress
                      label:  "Ingress"
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: Enable Ingress
                            schema:
                              type: boolean
                              default: false
                              show_subquestions_if: true
                              subquestions:
                                - variable: hosts
                                  label: Hosts
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: hostEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: host
                                              label: HostName
                                              schema:
                                                type: string
                                                default: ""
                                                required: true
                                            - variable: paths
                                              label: Paths
                                              schema:
                                                type: list
                                                default: [{path: "/", pathType: "Prefix"}]
                                                items:
                                                  - variable: pathEntry
                                                    label: Host
                                                    schema:
                                                      additional_attrs: true
                                                      type: dict
                                                      attrs:
                                                        - variable: path
                                                          label: Path
                                                          schema:
                                                            type: string
                                                            required: true
                                                            default: "/"
                                                        - variable: pathType
                                                          label: Path Type
                                                          schema:
                                                            type: string
                                                            required: true
                                                            default: Prefix
                                - variable: integrations
                                  label: Integrations
                                  description: Connect ingress with other charts
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: traefik
                                        label: Traefik
                                        description: Connect ingress with Traefik
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: enabled
                                              label: enabled
                                              schema:
                                                type: boolean
                                                default: true
                                            - variable: allowCors
                                              label: 'Allow Cross Origin Requests (advanced)'
                                              schema:
                                                type: boolean
                                                default: false
                                                show_if: [["enabled", "=", true]]
                                            - variable: entrypoints
                                              label: Entrypoints
                                              schema:
                                                type: list
                                                default: ["websecure"]
                                                show_if: [["enabled", "=", true]]
                                                items:
                                                  - variable: entrypoint
                                                    label: Entrypoint
                                                    schema:
                                                      type: string
                                            - variable: middlewares
                                              label: Middlewares
                                              schema:
                                                type: list
                                                default: []
                                                show_if: [["enabled", "=", true]]
                                                items:
                                                  - variable: middleware
                                                    label: Middleware
                                                    schema:
                                                      additional_attrs: true
                                                      type: dict
                                                      attrs:
                                                        - variable: name
                                                          label: name
                                                          schema:
                                                            type: string
                                                            default: ""
                                                            required: true
                                                        - variable: namespace
                                                          label: 'namespace (optional)'
                                                          schema:
                                                            type: string
                                                            default: ""
                                      - variable: certManager
                                        label: certManager
                                        description: Connect ingress with certManager
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: enabled
                                              label: enabled
                                              schema:
                                                type: boolean
                                                default: false
                                            - variable: certificateIssuer
                                              label: certificateIssuer
                                              description: defaults to chartname
                                              schema:
                                                type: string
                                                default: ""
                                                show_if: [["enabled", "=", true]]
                                - variable: advanced
                                  label: Show Advanced Settings
                                  description: Advanced settings are not covered by TrueCharts Support
                                  schema:
                                    type: boolean
                                    default: false
                                - variable: ingressClassName
                                  label: (Advanced/Optional) IngressClass Name
                                  schema:
                                    type: string
                                    show_if: [["advanced", "=", true]]
                                    default: ""
                                - variable: tls
                                  label: TLS-Settings
                                  schema:
                                    type: list
                                    show_if: [["advanced", "=", true]]
                                    default: []
                                    items:
                                      - variable: tlsEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: hosts
                                              label: Certificate Hosts
                                              schema:
                                                type: list
                                                default: []
                                                items:
                                                  - variable: host
                                                    label: Host
                                                    schema:
                                                      type: string
                                                      default: ""
                                                      required: true

                                            - variable: certificateIssuer
                                              label: Use Cert-Manager clusterIssuer
                                              description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates.'
                                              schema:
                                                type: string
                                                default: ""
                                            - variable: clusterCertificate
                                              label:  'Cluster Certificate (Advanced)'
                                              description: 'Add the name of your cluster-wide certificate, that you set up in the ClusterIssuer chart.'
                                              schema:
                                                type: string
                                                show_if: [["certificateIssuer", "=", ""]]
                                                default: ""
                                            - variable: secretName
                                              label: 'Use Custom Certificate Secret (Advanced)'
                                              schema:
                                                show_if: [["certificateIssuer", "=", ""]]
                                                type: string
                                                default: ""
                                            - variable: scaleCert
                                              label: 'Use TrueNAS SCALE Certificate (Deprecated)'
                                              schema:
                                                show_if: [["certificateIssuer", "=", ""]]
                                                type: int
                                                $ref:
                                                  - "definitions/certificate"
                    - variable: envList
                      label: Codeserver Environment Variables
                      schema:
                        type: list
                        show_if: [["type", "!=", "disabled"]]
                        default: []
                        items:
                          - variable: envItem
                            label: Environment Variable
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: name
                                  label: Name
                                  schema:
                                    type: string
                                    required: true
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true

        - variable: netshoot
          label: Netshoot
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: envList
                      label: Netshoot Environment Variables
                      schema:
                        type: list
                        show_if: [["type", "!=", "disabled"]]
                        default: []
                        items:
                          - variable: envItem
                            label: Environment Variable
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: name
                                  label: Name
                                  schema:
                                    type: string
                                    required: true
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true

        - variable: vpn
          label: VPN
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type
                schema:
                  type: string
                  default: disabled
                  enum:
                    - value: disabled
                      description: disabled
                    - value: gluetun
                      description: Gluetun
                    - value: tailscale
                      description: Tailscale
                    - value: openvpn
                      description: OpenVPN (Deprecated)
                    - value: wireguard
                      description: Wireguard (Deprecated)
              - variable: openvpn
                label: OpenVPN Settings
                schema:
                  additional_attrs: true
                  type: dict
                  show_if: [["type", "=", "openvpn"]]
                  attrs:
                    - variable: username
                      label: Authentication Username (Optional)
                      description: Authentication Username, Optional
                      schema:
                        type: string
                        default: ""
                    - variable: password
                      label: Authentication Password
                      description: Authentication Credentials
                      schema:
                        type: string
                        show_if: [["username", "!=", ""]]
                        default: ""
                        required: true
              - variable: tailscale
                label: Tailscale Settings
                schema:
                  additional_attrs: true
                  type: dict
                  show_if: [["type", "=", "tailscale"]]
                  attrs:
                    - variable: authkey
                      label: Authentication Key
                      description: Provide an auth key to automatically authenticate the node as your user account.
                      schema:
                        type: string
                        private: true
                        default: ""
                    - variable: auth_once
                      label: Auth Once
                      description: Only attempt to log in if not already logged in.
                      schema:
                        type: boolean
                        default: true
                    - variable: accept_dns
                      label: Accept DNS
                      description: Accept DNS configuration from the admin console.
                      schema:
                        type: boolean
                        default: false
                    - variable: userspace
                      label: Userspace
                      description: Userspace Networking mode allows running Tailscale where you do not have access to create a VPN tunnel device.
                      schema:
                        type: boolean
                        default: false
                    - variable: routes
                      label: Routes
                      description: Expose physical subnet routes to your entire Tailscale network.
                      schema:
                        type: string
                        default: ""
                    - variable: dest_ip
                      label: Destination IP
                      description: Tells the DNAT mechanism which Destination IP to set in the IP header, and where to send packets that are matched.
                      schema:
                        type: string
                        default: ""
                    - variable: sock5_server
                      label: Sock5 Server
                      description: The address on which to listen for SOCKS5 proxying into the tailscale net.
                      schema:
                        type: string
                        default: ""
                    - variable: outbound_http_proxy_listen
                      label: Outbound HTTP Proxy Listen
                      description: The address on which to listen for HTTP proxying into the tailscale net.
                      schema:
                        type: string
                        default: ""
                    - variable: extra_args
                      label: Extra Args
                      description: Extra Args
                      schema:
                        type: string
                        default: ""
                    - variable: daemon_extra_args
                      label: Tailscale Daemon Extra Args
                      description: Tailscale Daemon Extra Args
                      schema:
                        type: string
                        default: ""
              - variable: killSwitch
                label: Enable Killswitch
                schema:
                  type: boolean
                  show_if: [["type", "!=", "disabled"]]
                  default: true
              - variable: excludedNetworks_IPv4
                label: Killswitch Excluded IPv4 networks
                description: List of Killswitch Excluded IPv4 Addresses
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: networkv4
                      label: IPv4 Network
                      schema:
                        type: string
                        required: true
              - variable: excludedNetworks_IPv6
                label: Killswitch Excluded IPv6 networks
                description: "List of Killswitch Excluded IPv6 Addresses"
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: networkv6
                      label: IPv6 Network
                      schema:
                        type: string
                        required: true
              - variable: configFile
                label: VPN Config File Location
                schema:
                  type: string
                  show_if: [["type", "!=", "disabled"]]
                  default: ""

              - variable: envList
                label: VPN Environment Variables
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: envItem
                      label: Environment Variable
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            schema:
                              type: string
                              required: true
                          - variable: value
                            label: Value
                            schema:
                              type: string
                              required: true
                              max_length: 10240

  - variable: docs
    group: Documentation
    label: Please read the documentation at https://truecharts.org
    description: Please read the documentation at
      <br /><a href="https://truecharts.org">https://truecharts.org</a>
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: confirmDocs
          label: I have checked the documentation
          schema:
            type: boolean
            default: true
  - variable: donateNag
    group: Documentation
    label: Please consider supporting TrueCharts, see https://truecharts.org/sponsor
    description: Please consider supporting TrueCharts, see
      <br /><a href="https://truecharts.org/sponsor">https://truecharts.org/sponsor</a>
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: confirmDonate
          label: I have considered donating
          schema:
            type: boolean
            default: true
            hidden: true

