groups:
  - name: Image
    description: |
      Configured the images to be used for the Chart.
      It's wise to use "digest pinned" tags and to avoid using "latest".

      Checkout the following documentation for more information:
      - https://truecharts.org/common/#images


  - name: General
    description: |
      For TrueNAS SCALE We've grouped a number of settings here, that all effact how apps run in general.

      Checkout the following documentation for more information:
        - https://truecharts.org/common/global/
        - https://truecharts.org/common/#tz
        - https://truecharts.org/common/podoptions/
        - Image Pull Secrets


  - name: Workload
    description: |
      These settings configure how the actual Pods and containers are running.
      Generally, on SCALE, we only expose a limited subset of these settings for the primary workload and container.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/workload/
      - https://truecharts.org/common/container/


  - name: App Configuration
    description: |
       Every application has different values that may be required to run or have multiple options that the user may choose to enable or disable to change the behavior of the application.
       Most options should have a Tooltip (Circled Question Mark) to further describe said option.

       To find more information, lookup your chart-specific documentation in the Charts List: https://truecharts.org/charts/description-list/

  - name: Services
    description: |
      Service and Networking options for any applications are contained here.
      Some applications may have complicated networking setups with multiple options or some may have no options here at all.

      Options here include the service and port configurations for the application, and more may be enabled or changed under the Advanced Settings and Show Expert Config boxes.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/service/

  - name: Networking
    description: |
      Contains advanced networking options that are not actively supported by the TrueCharts team.
      Currently only contains scaleExternalInterfaces.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/scaleexternalinterface/

  - name: Persistence
    description: |
      Many applications will have certain options for storage to be configurable by the user, the main two being PVC and hostpath but may include other types.
      This storage is called Persistence since it is not deleted upon restart or upgrade of an application.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/persistence/
      - https://truecharts.org/scale/guides/nfs-share/
      - https://truecharts.org/general/faq/#why-pvc-is-recommended-over-hostpath


  - name: Ingress
    description: |
      Ingress (more commonly known as Reverse Proxy) settings can be configured here. This is how Kubernetes connects your Applications in containers to FQDNs (fully qualified domain names).
      If you choose to enable this you must have a "Ingress Provider" aka "Reverse Proxy" installed (We highly advice Traefik: https://truecharts.org/charts/premium/traefik/)
      It also requiresa DNS service to actually resolve the DNS name of the FQDN specified.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/ingress/


  - name: SecurityContext
    description: |
      The security settings for each application and/or permissions that each application may have for the files/directories created.
      Each application will come with predefined permissions but users may want to change certain setting depending on their usage or capabilities.

      Unless necessary users are advised to keep this section mostly to defaults.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/securitycontext/


  - name: Resources
    description: |
      Resources limits that have been defined by each application are in this section.
      Most will have a specific default that some users may want to change based on their specific hardware or needs.

      This also contains the options to mount GPUs or, more precisely, "request" GPU's to be mounted.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/resources/

  - name: Devices
    description: |
      These are special "mountpoints" that can be used to mount miscelanious USB and PCI devices using special hostPath mounts.
      For clearity we've decided to seperate this from persistence on SCALE.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/persistence/device/
      - https://truecharts.org/scale/guides/pci-passthrough/

  - name: Middlewares
    description: Traefik Middlewares

  - name: StorageClass
    description: |
      StorageClasses define where to storage Storage.

      Checkout the following documentation for more information:

  - name: Metrics
    description: |
      Contains options to configure Prometheus metrics for the application.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/metrics/


  - name: Addons
    description: |
      Addons that are supplied by the TrueCharts team to add additional capabilities for users to use on top of the application’s defaults.
      Things included here are VPN addons, Codeserver for editing files inside the application’s container, Netshoot for network troubelshooting, etc.

      Generally not required for use but may be necessary or usefull at times for specific applications.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/addons/
      - https://truecharts.org/scale/guides/vpn-setup/


  - name: Experimental
    description: |
      Experimental Configuration Options
      Often these are not fully flushed-out, could randomly break or might not work at-all.

  - name: Postgresql
    description: |
      For Postgresql we use "CloudNative-PG" as a backend, which has to be installed first.

      Checkout the following documentation for more information:
      - https://truecharts.org/common/cnpg/
      - https://truecharts.org/scale/guides/sql-export/
      - https://truecharts.org/scale/guides/recover-cnpg/

  - name: Dependencies
    description: |
      contains dependency setting for which we, currently, do not have seperate catagories (yet)


  - name: Documentation
    description: |
      We added this section to make everyone aware that OpenSource isn't always easy.
      It doesn't keep existing without signficant ongoing support, so please consider supporting TrueCharts and other OpenSource projects.

      Before installing, be sure you've followed the https://truecharts.org/scale/guides/getting-started/
      We would also advice going over our https://truecharts.org/scale/guides/scale-intro/
      and many of the other documentation pages...

portals:
  open:
    protocols:
      - "$kubernetes-resource_configmap_tcportal-open_protocol"
    host:
      - "$kubernetes-resource_configmap_tcportal-open_host"
    ports:
      - "$kubernetes-resource_configmap_tcportal-open_port"

questions:
  - variable: global
    group: General
    label: "Global Settings"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: stopAll
          label: Stop All
          description: "Stops All Running pods and hibernates cnpg"
          schema:
            type: boolean
            default: false

  - variable: credentialsList
    group: General
    label: "Credentials (Experimental)"
    schema:
      type: list
      default: []
      items:
        - variable: credentialsEntry
          label: "Enter Credentials"
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: name
                label: Name
                description: "Name"
                schema:
                  type: string
                  required: true
                  default: ""
              - variable: type
                label: Type
                description: "Type of Credential"
                schema:
                  type: string
                  default: "s3"
                  enum:
                    - value: s3
                      description: s3 Storage
              - variable: url
                label: "url"
                schema:
                  type: string
                  default: ""
                  required: true
              - variable: path
                label: "path"
                description: "Path Prefix not needed for most cases"
                schema:
                  type: string
                  default: ""
              - variable: bucket
                label: "bucket"
                schema:
                  show_if: [["type", "=", "s3"]]
                  type: string
                  default: ""
                  required: true
              - variable: accessKey
                label: "accessKey"
                schema:
                  show_if: [["type", "=", "s3"]]
                  type: string
                  default: ""
                  required: true
              - variable: secretKey
                label: "secretKey"
                schema:
                  show_if: [["type", "=", "s3"]]
                  type: string
                  default: ""
                  required: true
              - variable: encrKey
                label: "encrKey"
                description: "The Encryption key is needed for tools like volsync if not needed it will be ignored"
                schema:
                  show_if: [["type", "=", "s3"]]
                  type: string
                  default: "MYSECRETPASSPHRASE"
                  required: true

  - variable: workload
    group: "Workload"
    label: ""
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: ""
          schema:
            additional_attrs: true
            type: dict
            attrs:

              - variable: type
                label: Type (Advanced)
                schema:
                  type: string
                  default: Deployment
                  enum:
                    - value: Deployment
                      description: Deployment
                    - value: DaemonSet
                      description: DaemonSet

              - variable: replicas
                label: Replicas (Advanced)
                description: Set the number of Replicas
                schema:
                  type: int
                  show_if: [["type", "!=", "DaemonSet"]]
                  default: 1

              - variable: podSpec
                label: ""
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: containers
                      label: Containers
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:

                          - variable: main
                            label: Main Container
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:

                                - variable: envList
                                  label: Extra Environment Variables
                                  description: "Please be aware that some variables are set in the background, adding duplicates here might cause issues or prevent the app from starting..."
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: envItem
                                        label: Environment Variable
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: Name
                                              schema:
                                                type: string
                                            - variable: value
                                              label: Value
                                              schema:
                                                type: string
                                - variable: extraArgs
                                  label: Extra Args
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: arg
                                        label: Arg
                                        schema:
                                          type: string

                                - variable: advanced
                                  label: Show Advanced Settings
                                  description: Advanced settings are not covered by TrueCharts Support
                                  schema:
                                    type: boolean
                                    default: false
                                    show_subquestions_if: true
                                    subquestions:
                                      - variable: command
                                        label: Command
                                        schema:
                                          type: list
                                          default: []
                                          items:
                                            - variable: param
                                              label: Param
                                              schema:
                                                type: string

  - variable: guacamole
    label: Guacamole Configuration
    group: App Configuration
    schema:
      type: dict
      additional_attrs: true
      attrs:
        - variable: general
          label: General Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: EXTENSION_PRIORITY
                label: Extension Priority
                description: A comma-separated list of the namespaces of all extensions that should be loaded in a specific order
                schema:
                  type: string
                  default: ""
              - variable: api
                label: API Configuration
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: API_SESSION_TIMEOUT
                      label: API Session Timeout (in minutes)
                      schema:
                        type: int
                        default: 60
        - variable: totp
          label: TOTP Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: TOTP_ENABLED
                label: Enable TOTP
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: TOTP_ISSUER
                      label: TOTP Issuer
                      schema:
                        type: string
                        default: Apache Guacamole
                        required: true
                    - variable: TOTP_PERIOD
                      label: TOTP Period
                      schema:
                        type: int
                        default: 30
                        required: true
                    - variable: TOTP_DIGITS
                      label: TOTP Digits
                      schema:
                        type: int
                        min: 6
                        max: 8
                        default: 6
                        required: true
                    - variable: TOTP_MODE
                      label: TOTP Mode
                      schema:
                        type: string
                        default: sha1
                        required: true
                        enum:
                          - value: sha1
                            description: sha1
                          - value: sha256
                            description: sha256
                          - value: sha512
                            description: sha512
        - variable: header
          label: Header Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: HEADER_ENABLED
                label: Enable Header
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: HTTP_AUTH_HEADER
                      label: HTTP Auth Header
                      schema:
                        type: string
                        required: true
                        default: REMOTE_USER
        - variable: json
          label: JSON Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: json_enabled
                label: Enable JSON
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: JSON_SECRET_KEY
                      label: JSON Secret Key
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: JSON_TRUSTED_NETWORKS
                      label: JSON Trusted Networks (Leave blank for unrestricted
                      description: "Comma separated list e.g.: 127.0.0.0/8, 10.0.0.0/8"
                      schema:
                        type: string
                        default: ""
        - variable: duo
          label: DUO Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: duo_enabled
                label: Enable DUO
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: DUO_API_HOSTNAME
                      label: DUO API Hostname (api-XXXXXXXX.duosecurity.com)
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: DUO_INTEGRATION_KEY
                      label: DUO Integration Key (Exactly 20 chars)
                      schema:
                        min_length: 20
                        max_length: 20
                        type: string
                        required: true
                        default: ""
                    - variable: DUO_SECRET_KEY
                      label: DUO Secret Key (Exactly 40 chars)
                      schema:
                        min_length: 40
                        max_length: 40
                        type: string
                        required: true
                        default: ""
                    - variable: DUO_APPLICATION_KEY
                      label: DUO Application Key (At least 40 chars)
                      schema:
                        min_length: 40
                        type: string
                        required: true
                        default: ""
        - variable: cas
          label: CAS Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: cas_enabled
                label: Enable CAS
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: CAS_AUTHORIZATION_ENDPOINT
                      label: CAS Authorization Endpoint
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: CAS_REDIRECT_URI
                      label: CAS Redirect URI
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: CAS_CLEARPASS_KEY
                      label: CAS Clearpass Key
                      schema:
                        type: string
                        default: ""
                    - variable: CAS_GROUP_ATTRIBUTE
                      label: CAS Group Attribute
                      schema:
                        type: string
                        default: ""
                    - variable: CAS_GROUP_LDAP_BASE_DN
                      label: CAS Group LDAP Base DN
                      schema:
                        type: string
                        default: ""
                    - variable: CAS_GROUP_LDAP_ATTRIBUTE
                      label: CAS Group LDAP Attribute
                      schema:
                        type: string
                        default: ""
                    - variable: CAS_GROUP_FORMAT
                      label: CAS Group Format
                      schema:
                        type: string
                        default: plain
                        enum:
                          - value: plain
                            description: plain
                          - value: ldap
                            description: ldap
        - variable: openid
          label: OpenID Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: openid_enabled
                label: Enable OpenID
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: OPENID_AUTHORIZATION_ENDPOINT
                      label: OpenID Authorization Endpoint
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: OPENID_JWKS_ENDPOINT
                      label: OpenID JWKS Endpoint
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: OPENID_ISSUER
                      label: OpenID Issuer
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: OPENID_CLIENT_ID
                      label: OpenID Client ID
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: OPENID_REDIRECT_URI
                      label: OpenID Redirect URI
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: OPENID_USERNAME_CLAIM_TYPE
                      label: OpenID Username Claim Type
                      schema:
                        type: string
                        required: true
                        default: email
                    - variable: OPENID_GROUPS_CLAIM_TYPE
                      label: OpenID Groups Claim Type
                      schema:
                        type: string
                        required: true
                        default: groups
                    - variable: OPENID_SCOPE
                      label: OpenID Scope
                      schema:
                        type: string
                        default: openid email profile
                    - variable: OPENID_ALLOWED_CLOCK_SKEW
                      label: OpenID Allowed Clock Skew (in seconds)
                      schema:
                        type: int
                        required: true
                        default: 30
                    - variable: OPENID_MAX_TOKEN_VALIDITY
                      label: OpenID Max Token Validity (in minutes)
                      schema:
                        type: int
                        required: true
                        default: 300
                    - variable: OPENID_MAX_NONCE_VALIDITY
                      label: OpenID Max Nonce Validity (in minutes)
                      schema:
                        type: int
                        required: true
                        default: 10
        - variable: radius
          label: Radius Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: radius_enabled
                label: Enable Radius
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: RADIUS_SHARED_SECRET
                      label: Radius Shared Secret
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: RADIUS_AUTH_PROTOCOL
                      label: Radius Auth Protocol
                      schema:
                        type: string
                        required: true
                        default: eap-tls
                        enum:
                          - value: pap
                            description: pap
                          - value: chap
                            description: chap
                          - value: mschapv1
                            description: mschapv1
                          - value: mschapv2
                            description: mschapv2
                          - value: eap-md5
                            description: eap-md5
                          - value: eap-tls
                            description: eap-tls
                          - value: eap-ttls
                            description: eap-ttls
                    - variable: RADIUS_HOSTNAME
                      label: Radius Hostname
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: RADIUS_AUTH_PORT
                      label: Radius Auth Port
                      schema:
                        type: int
                        default: 1812
                    - variable: RADIUS_KEY_FILE
                      label: Radius Key File
                      schema:
                        type: string
                        default: ""
                    - variable: RADIUS_KEY_TYPE
                      label: Radius Key Type
                      schema:
                        type: string
                        default: pkcs12
                        required: true
                        enum:
                          - value: pem
                            description: pem
                          - value: jceks
                            description: jceks
                          - value: jks
                            description: jks
                          - value: pkcs12
                            description: pkcs12
                    - variable: RADIUS_KEY_PASSWORD
                      label: Radius Key Password
                      schema:
                        type: string
                        default: ""
                    - variable: RADIUS_CA_FILE
                      label: Radius CA File
                      schema:
                        type: string
                        default: ""
                    - variable: RADIUS_CA_TYPE
                      label: Radius CA Type
                      schema:
                        type: string
                        required: true
                        default: pem
                        enum:
                          - value: pem
                            description: pem
                          - value: jceks
                            description: jceks
                          - value: jks
                            description: jks
                          - value: pkcs12
                            description: pkcs12
                    - variable: RADIUS_CA_PASSWORD
                      label: Radius CA Password
                      schema:
                        type: string
                        default: ""
                    - variable: RADIUS_TRUST_ALL
                      label: Radius Trust All
                      schema:
                        type: boolean
                        default: false
                    - variable: RADIUS_RETRIES
                      label: Radius Retries
                      schema:
                        type: int
                        required: true
                        default: 5
                    - variable: RADIUS_TIMEOUT
                      label: Radius Timeout
                      schema:
                        type: int
                        required: true
                        default: 60
                    - variable: RADIUS_EAP_TTLS_INNER_PROTOCOL
                      label: Radius eap-ttls Inner Protocol
                      description: Only has effect when RADIUS_AUTH_PROTOCOL is set to eap-ttls
                      schema:
                        type: string
                        default: eap-tls
                        required: true
                        enum:
                          - value: pap
                            description: pap
                          - value: chap
                            description: chap
                          - value: mschapv1
                            description: mschapv1
                          - value: mschapv2
                            description: mschapv2
                          - value: eap-md5
                            description: eap-md5
                          - value: eap-tls
                            description: eap-tls
                    - variable: RADIUS_NAS_IP
                      label: Radius Network Access Server IP
                      schema:
                        type: string
                        default: ""
        - variable: ldap
          group: "App Configuration"
          label: LDAP Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: ldap_enabled
                label: Enable LDAP
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: LDAP_HOSTNAME
                      label: LDAP Hostname
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: LDAP_USER_BASE_DN
                      label: LDAP User Base DN
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: LDAP_PORT
                      label: LDAP Port
                      schema:
                        type: int
                        default: 389
                    - variable: LDAP_ENCRYPTION_METHOD
                      label: LDAP Encryption Method
                      schema:
                        type: string
                        default: none
                        required: true
                        enum:
                          - value: none
                            description: none
                          - value: ssl
                            description: ssl
                          - value: starttls
                            description: starttls
                    - variable: LDAP_MAX_SEARCH_RESULTS
                      label: LDAP Max Search Results
                      schema:
                        type: int
                        default: 1000
                    - variable: LDAP_SEARCH_BIND_DN
                      label: LDAP Search Bind DN
                      schema:
                        type: string
                        default: ""
                    - variable: LDAP_USER_ATTRIBUTES
                      label: LDAP User Attributes
                      schema:
                        type: string
                        default: ""
                    - variable: LDAP_SEARCH_BIND_PASSWORD
                      label: LDAP Search Bind Password
                      schema:
                        type: string
                        default: ""
                    - variable: LDAP_USERNAME_ATTRIBUTE
                      label: LDAP Username Attribute
                      schema:
                        type: string
                        default: uid
                    - variable: LDAP_MEMBER_ATTRIBUTE
                      label: LDAP Member Attribute
                      schema:
                        type: string
                        default: member
                    - variable: LDAP_USER_SEARCH_FILTER
                      label: LDAP User Search Filter
                      schema:
                        type: string
                        default: "(objectClass=*)"
                    - variable: LDAP_CONFIG_BASE_DN
                      label: LDAP Config Base DN
                      schema:
                        type: string
                        default: ""
                    - variable: LDAP_GROUP_BASE_DN
                      label: LDAP Group Base DN
                      schema:
                        type: string
                        default: ""
                    - variable: LDAP_GROUP_SEARCH_FILTER
                      label: LDAP Group Search Filter
                      schema:
                        type: string
                        default: "(objectClass=*)"
                    - variable: LDAP_MEMBER_ATTRIBUTE_TYPE
                      label: LDAP Member Attribute Type
                      schema:
                        type: string
                        default: dn
                        required: true
                        enum:
                          - value: dn
                            description: dn
                          - value: uid
                            description: uid
                    - variable: LDAP_GROUP_NAME_ATTRIBUTE
                      label: LDAP Group Name Attribute
                      schema:
                        type: string
                        default: cn
                    - variable: LDAP_DEREFERENCE_ALIASES
                      label: LDAP Dereference Aliases
                      schema:
                        type: string
                        required: true
                        default: never
                        enum:
                          - value: never
                            description: never
                          - value: searching
                            description: searching
                          - value: finding
                            description: finding
                          - value: always
                            description: always
                    - variable: LDAP_FOLLOW_REFERRALS
                      label: LDAP Follow Referrals
                      schema:
                        type: boolean
                        default: false
                    - variable: LDAP_MAX_REFERRAL_HOPS
                      label: LDAP Max Referrals Hops
                      schema:
                        type: int
                        required: true
                        default: 5
                    - variable: LDAP_OPERATION_TIMEOUT
                      label: LDAP Operation Timeout
                      schema:
                        type: int
                        required: true
                        default: 30
        - variable: saml
          label: SAML Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: saml_enabled
                label: Enable SAML
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: SAML_IDP_METADATA_URL
                      label: SAML IDP Metadata URL
                      schema:
                        type: string
                        default: ""
                    - variable: SAML_IDP_URL
                      label: SAML IDP URL
                      schema:
                        type: string
                        default: ""
                    - variable: SAML_ENTITY_ID
                      label: SAML Entity ID
                      schema:
                        type: string
                        default: ""
                    - variable: SAML_CALLBACK_URL
                      label: SAML Callback URL
                      schema:
                        type: string
                        default: ""
                    - variable: SAML_STRICT
                      label: SAML Strict
                      schema:
                        type: boolean
                        default: true
                    - variable: SAML_DEBUG
                      label: SAML Debug
                      schema:
                        type: boolean
                        default: false
                    - variable: SAML_COMPRESS_REQUEST
                      label: SAML Compress Request
                      schema:
                        type: boolean
                        default: true
                    - variable: SAML_COMPRESS_RESPONSE
                      label: SAML Compress Response
                      schema:
                        type: boolean
                        default: true
                    - variable: SAML_GROUP_ATTRIBUTE
                      label: SAML Group Attribute
                      schema:
                        type: string
                        required: true
                        default: groups
        - variable: proxy
          label: Proxy Configuration
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: REMOTE_IP_VALVE_ENABLED
                label: Enable Proxy
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: PROXY_BY_HEADER
                      label: Proxy by Header
                      schema:
                        type: string
                        default: ""
                    - variable: PROXY_PROTOCOL_HEADER
                      label: Proxy Protocol Header
                      schema:
                        type: string
                        default: ""
                    - variable: PROXY_IP_HEADER
                      label: Proxy IP Header
                      schema:
                        type: string
                        default: ""
                    - variable: PROXY_ALLOWED_IPS_REGEX
                      label: Proxy Allowed IP Regex
                      schema:
                        type: string
                        default: ""
  - variable: TZ
    label: Timezone
    group: "General"
    schema:
      type: string
      default: "Etc/UTC"
      $ref:
        - "definitions/timezone"

  - variable: podOptions
    group: "General"
    label: "Global Pod Options (Advanced)"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: expertPodOpts
          label: "Expert - Pod Options"
          schema:
            type: boolean
            default: false
            show_subquestions_if: true
            subquestions:
              - variable: hostNetwork
                label: "Host Networking"
                schema:
                  type: boolean
                  default: false
              - variable: dnsConfig
                label: "DNS Configuration"
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: options
                      label: "Options"
                      schema:
                        type: list
                        default: [{"name": "ndots", "value": "1"}]
                        items:
                          - variable: optionsEntry
                            label: "Option Entry"
                            schema:
                              type: dict
                              additional_attrs: true
                              attrs:
                                - variable: name
                                  label: "Name"
                                  schema:
                                    type: string
                                    required: true
                                - variable: value
                                  label: "Value"
                                  schema:
                                    type: string
                    - variable: nameservers
                      label: "Nameservers"
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: nsEntry
                            label: "Nameserver Entry"
                            schema:
                              type: string
                              required: true
                    - variable: searches
                      label: "Searches"
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: searchEntry
                            label: "Search Entry"
                            schema:
                              type: string
                              required: true

  - variable: imagePullSecretList
    group: "General"
    label: "Image Pull Secrets"
    schema:
      type: list
      default: []
      items:
        - variable: pullsecretentry
          label: "Pull Secret"
          schema:
            type: dict
            additional_attrs: true
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: true
              - variable: data
                label: Data
                schema:
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: registry
                      label: "Registry"
                      schema:
                        type: string
                        required: true
                        default: "https://index.docker.io/v1/"
                    - variable: username
                      label: "Username"
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: password
                      label: "Password"
                      schema:
                        type: string
                        required: true
                        private: true
                        default: ""
                    - variable: email
                      label: "Email"
                      schema:
                        type: string
                        required: true
                        default: ""

  - variable: service
    group: Services
    label: Configure Service(s)
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: main
          label: Main Service
          description: The Primary service on which the healthcheck runs, often the webUI
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the Service
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: type
                label: Service Type
                description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                schema:
                  type: string
                  default: LoadBalancer
                  enum:
                    - value: LoadBalancer
                      description: LoadBalancer (Expose Ports)
                    - value: ClusterIP
                      description: ClusterIP (Do Not Expose Ports)

              - variable: loadBalancerIP
                label: LoadBalancer IP
                description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                schema:
                  show_if: [["type", "=", "LoadBalancer"]]
                  type: string
                  default: ""
              - variable: ports
                label: "Service's Port(s) Configuration"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:

                    - variable: main
                      label: Main Service Port Configuration
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: port
                            label: Port
                            description: This port exposes the container port on the service
                            schema:
                              type: int
                              default: 9998
                              required: true
  - variable: scaleExternalInterface
    description: 'Add External Interfaces (Experimental, might change or be removed without further notice)'
    label: Add external Interfaces (Experimental)
    group: Networking
    schema:
      type: list
      items:
        - variable: interfaceConfiguration
          description: Interface Configuration
          label: Interface Configuration
          schema:
            additional_attrs: true
            type: dict
            $ref:
              - "normalize/interfaceConfiguration"
            attrs:
              - variable: hostInterface
                description: Please Specify Host Interface
                label: Host Interface
                schema:
                  type: string
                  required: true
                  $ref:
                    - "definitions/interface"
              - variable: ipam
                description: Define how IP Address will be managed
                label: IP Address Management
                schema:
                  additional_attrs: true
                  type: dict
                  required: true
                  attrs:
                    - variable: type
                      description: Specify type for IPAM
                      label: IPAM Type
                      schema:
                        type: string
                        required: true
                        enum:
                          - value: dhcp
                            description: Use DHCP
                          - value: static
                            description: Use Static IP
                    - variable: staticIPConfigurations
                      label: Static IP Addresses
                      schema:
                        type: list
                        show_if: [["type", "=", "static"]]
                        items:
                          - variable: staticIP
                            label: Static IP
                            schema:
                              type: ipaddr
                              cidr: true
                    - variable: staticRoutes
                      label: Static Routes
                      schema:
                        type: list
                        show_if: [["type", "=", "static"]]
                        items:
                          - variable: staticRouteConfiguration
                            label: Static Route Configuration
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: destination
                                  label: Destination
                                  schema:
                                    type: ipaddr
                                    cidr: true
                                    required: true
                                - variable: gateway
                                  label: Gateway
                                  schema:
                                    type: ipaddr
                                    cidr: false
                                    required: true


  - variable: serviceList
    label: Add Manual Custom Services
    group: Services
    schema:
      type: list
      default: []
      items:
        - variable: serviceListEntry
          label: Custom Service
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the service
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: name
                label: Name
                schema:
                  type: string
                  default: ""
              - variable: type
                label: Service Type
                description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                schema:
                  type: string
                  default: LoadBalancer
                  enum:
                    - value: LoadBalancer
                      description: LoadBalancer (Expose Ports)
                    - value: ClusterIP
                      description: ClusterIP (Do Not Expose Ports)
                    - value: Simple
                      description: Deprecated CHANGE THIS
              - variable: loadBalancerIP
                label: LoadBalancer IP
                description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                schema:
                  show_if: [["type", "=", "LoadBalancer"]]
                  type: string
                  default: ""
              - variable: advancedsvcset
                label: Show Advanced Service Settings
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: externalIPs
                      label: "External IP's"
                      description: "External IP's"
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: externalIP
                            label: External IP
                            schema:
                              type: string
                    - variable: ipFamilyPolicy
                      label: IP Family Policy
                      description: Specify the IP Policy
                      schema:
                        type: string
                        default: SingleStack
                        enum:
                          - value: SingleStack
                            description: SingleStack
                          - value: PreferDualStack
                            description: PreferDualStack
                          - value: RequireDualStack
                            description: RequireDualStack
                    - variable: ipFamilies
                      label: IP Families
                      description: (Advanced) The IP Families that should be used
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: ipFamily
                            label: IP Family
                            schema:
                              type: string
              - variable: portsList
                label: Additional Service Ports
                schema:
                  type: list
                  default: []
                  items:
                    - variable: portsListEntry
                      label: Custom ports
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: Enable the Port
                            schema:
                              type: boolean
                              default: true
                              hidden: true
                          - variable: name
                            label: Port Name
                            schema:
                              type: string
                              default: ""
                          - variable: protocol
                            label: Port Type
                            schema:
                              type: string
                              default: tcp
                              enum:
                                - value: http
                                  description: HTTP
                                - value: https
                                  description: HTTPS
                                - value: tcp
                                  description: TCP
                                - value: udp
                                  description: UDP
                          - variable: targetPort
                            label: Target Port
                            description: This port exposes the container port on the service
                            schema:
                              type: int
                              required: true
                          - variable: port
                            label: Container Port
                            schema:
                              type: int
                              required: true

  - variable: persistence
    label: Integrated Persistent Storage
    description: Integrated Persistent Storage
    group: Persistence
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: recordings
          label: App Recordings Storage
          description: Mounts this volume at [/var/lib/guacamole/recordings] in both guacd and client containers
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
                    - value: iscsi
                      description: iSCSI Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""

              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: volsync
                label: 'VolSync (Experimental)'
                description: Backup, Restore and Synchronise PVC storage
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: VolSyncEntry
                      label: VolSync Configuration
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: "Name of backup configuration"
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: type
                            label: Type VolSync/Backup
                            description: Sets the VolSync Type
                            schema:
                              type: string
                              default: "restic"
                              enum:
                                - value: restic
                                  description: Restic
                          - variable: credentials
                            label: Credentials
                            description: "Name of credentials in the credentials section"
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: dest
                            label: VolSync Destination (Restore)
                            description: VolSYnc Destination is the location where data is the reciever and configures recovery of backups
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable
                                  schema:
                                    type: boolean
                                    default: true
                          - variable: src
                            label: VolSync Source (Backup)
                            description: VolSYnc Source is the location where data is the sender and creates backups to storage
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable
                                  schema:
                                    type: boolean
                                    default: true
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: disabled
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

        - variable: drive
          label: Virtual Drive Storage (guacd)
          description: Mounts this volume at [/var/lib/guacamole/drive] in the guacd container
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: pvc
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
                    - value: iscsi
                      description: iSCSI Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""

              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size quotum of Storage (Do NOT REDUCE after installation)
                description: This value can ONLY be INCREASED after the installation
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: volsync
                label: 'VolSync (Experimental)'
                description: Backup, Restore and Synchronise PVC storage
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: VolSyncEntry
                      label: VolSync Configuration
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: "Name of backup configuration"
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: type
                            label: Type VolSync/Backup
                            description: Sets the VolSync Type
                            schema:
                              type: string
                              default: "restic"
                              enum:
                                - value: restic
                                  description: Restic
                          - variable: credentials
                            label: Credentials
                            description: "Name of credentials in the credentials section"
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: dest
                            label: VolSync Destination (Restore)
                            description: VolSYnc Destination is the location where data is the reciever and configures recovery of backups
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable
                                  schema:
                                    type: boolean
                                    default: true
                          - variable: src
                            label: VolSync Source (Backup)
                            description: VolSYnc Source is the location where data is the sender and creates backups to storage
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable
                                  schema:
                                    type: boolean
                                    default: true
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: disabled
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

  - variable: persistenceList
    label: Additional App Storage
    group: Persistence
    schema:
      type: list
      default: []
      items:
        - variable: persistenceListEntry
          label: Custom Storage
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the storage
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: type
                label: Type of Storage
                description: Sets the persistence type, Anything other than PVC could break rollback!
                schema:
                  type: string
                  default: hostPath
                  enum:
                    - value: pvc
                      description: PVC
                    - value: hostPath
                      description: Host Path
                    - value: emptyDir
                      description: emptyDir
                    - value: nfs
                      description: NFS Share
              - variable: server
                label: NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: path
                label: Path on NFS Server
                schema:
                  show_if: [["type", "=", "nfs"]]
                  type: string
                  default: ""
              - variable: iscsi
                label: iSCSI Options
                schema:
                  show_if: [["type", "=", "iscsi"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: targetPortal
                      label: targetPortal
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: iqn
                      label: iqn
                      schema:
                        type: string
                        required: true
                        default: ""
                    - variable: lun
                      label: lun
                      schema:
                        type: int
                        default: 0
                    - variable: authSession
                      label: authSession
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
                    - variable: authDiscovery
                      label: authDiscovery
                      schema:
                        type: dict
                        additional_attrs: true
                        attrs:
                          - variable: username
                            label: username
                            schema:
                              type: string
                              default: ""
                          - variable: password
                            label: password
                            schema:
                              type: string
                              default: ""
                          - variable: usernameInitiator
                            label: usernameInitiator
                            schema:
                              type: string
                              default: ""
                          - variable: passwordInitiator
                            label: passwordInitiator
                            schema:
                              type: string
                              default: ""
              - variable: autoPermissions
                label: Automatic Permissions Configuration
                description: Automatically set permissions
                schema:
                  show_if: [["type", "!=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: enabled
                      label: enabled
                      schema:
                        type: boolean
                        default: false
                        show_subquestions_if: true
                        subquestions:
                          - variable: chown
                            label: Run CHOWN
                            description: |
                              It will run CHOWN on the path with the given fsGroup
                            schema:
                              type: boolean
                              default: false
                          - variable: chmod
                            label: Run CHMOD
                            description: |
                              It will run CHMOD on the path with the given value</br>
                              Format should be 3 digits, e.g. 770
                            schema:
                              type: string
                              valid_chars: '[0-9]{3}'
                              default: ""
                          - variable: recursive
                            label: Recursive
                            description: |
                              It will run CHOWN and CHMOD recursively
                            schema:
                              type: boolean
                              default: false
              - variable: readOnly
                label: Read Only
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Path
                description: Path inside the container the storage is mounted
                schema:
                  show_if: [["type", "=", "hostPath"]]
                  type: hostpath
              - variable: mountPath
                label: Mount Path
                description: Path inside the container the storage is mounted
                schema:
                  type: string
                  default: ""
                  required: true
                  valid_chars: '^\/([a-zA-Z0-9._-]+(\s?[a-zA-Z0-9._-]+|\/?))+$'
              - variable: medium
                label: EmptyDir Medium
                schema:
                  show_if: [["type", "=", "emptyDir"]]
                  type: string
                  default: ""
                  enum:
                    - value: ""
                      description: Default
                    - value: Memory
                      description: Memory
              - variable: size
                label: Size Quotum of Storage
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: 256Gi
              - variable: storageClass
                label: 'storageClass (Advanced)'
                description: 'sets the storageClass to something other than iX default. Only for advanced usecases!'
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: string
                  default: ""
              - variable: volsync
                label: 'VolSync (Experimental)'
                description: Backup, Restore and Synchronise PVC storage
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: VolSyncEntry
                      label: VolSync Configuration
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: "Name of backup configuration"
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: type
                            label: Type VolSync/Backup
                            description: Sets the VolSync Type
                            schema:
                              type: string
                              default: "restic"
                              enum:
                                - value: restic
                                  description: Restic
                          - variable: credentials
                            label: Credentials
                            description: "Name of credentials in the credentials section"
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: dest
                            label: VolSync Destination (Restore)
                            description: VolSYnc Destination is the location where data is the reciever and configures recovery of backups
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable
                                  schema:
                                    type: boolean
                                    default: true
                          - variable: src
                            label: VolSync Source (Backup)
                            description: VolSYnc Source is the location where data is the sender and creates backups to storage
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: Enable
                                  schema:
                                    type: boolean
                                    default: true
              - variable: static
                label: 'Static Fixed PVC Bindings (Experimental)'
                description: Link a PVC to a specific storage location
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: dict
                  additional_attrs: true
                  attrs:
                    - variable: mode
                      label: mode
                      description: |
                        disabled: use normal dynamic PVCs
                        smb: connect to an SMB share
                        nfs: connect to an NFS share
                      schema:
                        type: string
                        default: "disabled"
                        enum:
                          - value: "disabled"
                            description: disabled
                          - value: smb
                            description: smb
                          - value: nfs
                            description: nfs
                    - variable: server
                      label: Server
                      description: server to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "myserver"
                    - variable: share
                      label: Share
                      description: share to connect to
                      schema:
                        type: string
                        show_if: [["mode", "!=", "disabled"]]
                        default: "/myshare"
                    - variable: user
                      label: User
                      description: connecting user
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: "myuser"
                    - variable: domain
                      label: Domain
                      description: user domain
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
                    - variable: password
                      label: Password
                      description: connecting password
                      schema:
                        type: string
                        show_if: [["mode", "=", "smb"]]
                        default: ""
              - variable: volumeSnapshots
                label: 'Volume Snapshots (Experimental)'
                description: Add an entry to the list to force creation of a volumeSnapshot of this PVC
                schema:
                  show_if: [["type", "=", "pvc"]]
                  type: list
                  default: []
                  items:
                    - variable: volumeSnapshotEntry
                      label: Custom volumeSnapshot
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            description: 'WARNING: renaming this, means deletion of the snapshot with the old name!'
                            schema:
                              type: string
                              default: "mysnapshot"
                              required: true
                          - variable: volumeSnapshotClassName
                            label: 'volumeSnapshot Class Name (Advanced)'
                            description: For use with PVCs using a non-default storageClass
                            schema:
                              type: string
                              default: ""

  - variable: ingress
    label: ""
    group: Ingress
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: main
          label: Main Ingress
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Ingress
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: hosts
                      label: Hosts
                      schema:
                        type: list
                        default: []
                        items:
                          - variable: hostEntry
                            label: Host
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: host
                                  label: HostName
                                  schema:
                                    type: string
                                    default: ""
                                    required: true
                                - variable: paths
                                  label: Paths
                                  schema:
                                    type: list
                                    default: [{path: "/", pathType: "Prefix"}]
                                    items:
                                      - variable: pathEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: path
                                              label: Path
                                              schema:
                                                type: string
                                                required: true
                                                default: "/"
                                            - variable: pathType
                                              label: Path Type
                                              schema:
                                                type: string
                                                required: true
                                                default: Prefix

                    - variable: integrations
                      label: Integrations
                      description: Connect ingress with other charts
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: traefik
                            label: Traefik
                            description: Connect ingress with Traefik
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: enabled
                                  schema:
                                    type: boolean
                                    default: true
                                - variable: allowCors
                                  label: 'Allow Cross Origin Requests (advanced)'
                                  schema:
                                    type: boolean
                                    default: false
                                    show_if: [["enabled", "=", true]]
                                - variable: entrypoints
                                  label: Entrypoints
                                  schema:
                                    type: list
                                    default: ["websecure"]
                                    show_if: [["enabled", "=", true]]
                                    items:
                                      - variable: entrypoint
                                        label: Entrypoint
                                        schema:
                                          type: string
                                - variable: middlewares
                                  label: Middlewares
                                  schema:
                                    type: list
                                    default: []
                                    show_if: [["enabled", "=", true]]
                                    items:
                                      - variable: middleware
                                        label: Middleware
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: name
                                              schema:
                                                type: string
                                                default: ""
                                                required: true
                                            - variable: namespace
                                              label: 'namespace (optional)'
                                              schema:
                                                type: string
                                                default: ""
                          - variable: certManager
                            label: certManager
                            description: Connect ingress with certManager
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: enabled
                                  schema:
                                    type: boolean
                                    default: false
                                - variable: certificateIssuer
                                  label: certificateIssuer
                                  description: defaults to chartname
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                          - variable: homepage
                            label: Homepage
                            description: Connect ingress with Homepage
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: enabled
                                  label: enabled
                                  schema:
                                    type: boolean
                                    default: false
                                - variable: name
                                  label: Name (Optional)
                                  description: Defaults to chart name
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                                - variable: description
                                  label: Description (Optional)
                                  description: Defaults to chart description
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                                - variable: icon
                                  label: Icon (Optional)
                                  description: Defaults to chart icon
                                  schema:
                                    type: string
                                    default: ""
                                    show_if: [["enabled", "=", true]]
                                - variable: group
                                  label: Group
                                  schema:
                                    type: string
                                    required: true
                                    default: "default"
                                    show_if: [["enabled", "=", true]]
                                - variable: widget
                                  label: Widget Settings
                                  schema:
                                    type: dict
                                    additional_attrs: true
                                    show_if: [["enabled", "=", true]]
                                    attrs:
                                      - variable: enabled
                                        label: Enable Widget
                                        description: When disabled all widget annotations are skipped.
                                        schema:
                                          type: boolean
                                          default: true
                                      - variable: custom
                                        label: Options
                                        schema:
                                          type: dict
                                          additional_attrs: true
                                          attrs:
                                            - variable: key
                                              label: API-key (key)
                                              schema:
                                                type: string
                                                default: ""
                                      - variable: customkv
                                        label: Custom Options
                                        schema:
                                          type: list
                                          default: []
                                          items:
                                            - variable: option
                                              label: Option
                                              schema:
                                                additional_attrs: true
                                                type: dict
                                                attrs:
                                                  - variable: key
                                                    label: Key
                                                    schema:
                                                      type: string
                                                      default: ""
                                                      required: true
                                                  - variable: value
                                                    label: Value
                                                    schema:
                                                      type: string
                                                      default: ""
                                                      required: true
                    - variable: advanced
                      label: Show Advanced Settings
                      description: Advanced settings are not covered by TrueCharts Support
                      schema:
                        type: boolean
                        default: false
                    - variable: ingressClassName
                      label: (Advanced/Optional) IngressClass Name
                      schema:
                        type: string
                        show_if: [["advanced", "=", true]]
                        default: ""
                    - variable: tls
                      label: TLS-Settings
                      schema:
                        type: list
                        show_if: [["advanced", "=", true]]
                        default: []
                        items:
                          - variable: tlsEntry
                            label: Host
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: hosts
                                  label: Certificate Hosts
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: host
                                        label: Host
                                        schema:
                                          type: string
                                          default: ""
                                          required: true

                                - variable: certificateIssuer
                                  label: Use Cert-Manager clusterIssuer
                                  description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates.'
                                  schema:
                                    type: string
                                    default: ""
                                - variable: clusterCertificate
                                  label:  'Cluster Certificate (Advanced)'
                                  description: 'Add the name of your cluster-wide certificate, that you set up in the ClusterIssuer chart.'
                                  schema:
                                    type: string
                                    show_if: [["certificateIssuer", "=", ""]]
                                    default: ""
                                - variable: secretName
                                  label: 'Use Custom Certificate Secret (Advanced)'
                                  schema:
                                    show_if: [["certificateIssuer", "=", ""]]
                                    type: string
                                    default: ""

  - variable: ingressList
    label: Add Manual Custom Ingresses
    group: Ingress
    schema:
      type: list
      default: []
      items:
        - variable: ingressListEntry
          label: Custom Ingress
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable Ingress
                schema:
                  type: boolean
                  default: true
                  hidden: true
              - variable: name
                label: Name
                schema:
                  type: string
                  default: ""
              - variable: ingressClassName
                label: IngressClass Name
                schema:
                  type: string
                  default: ""
              - variable: hosts
                label: Hosts
                schema:
                  type: list
                  default: []
                  items:
                    - variable: hostEntry
                      label: Host
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: host
                            label: HostName
                            schema:
                              type: string
                              default: ""
                              required: true
                          - variable: paths
                            label: Paths
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: pathEntry
                                  label: Host
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: path
                                        label: Path
                                        schema:
                                          type: string
                                          required: true
                                          default: "/"
                                      - variable: pathType
                                        label: Path Type
                                        schema:
                                          type: string
                                          required: true
                                          default: Prefix
                                      - variable: overrideService
                                        label: Linked Service
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: name
                                              label: Service Name
                                              schema:
                                                type: string
                                                default: ""
                                            - variable: port
                                              label: Service Port
                                              schema:
                                                type: int
              - variable: tls
                label: TLS-Settings
                schema:
                  type: list
                  default: []
                  show_if: [["certificateIssuer", "=", ""]]
                  items:
                    - variable: tlsEntry
                      label: Host
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: hosts
                            label: Certificate Hosts
                            schema:
                              type: list
                              default: []
                              items:
                                - variable: host
                                  label: Host
                                  schema:
                                    type: string
                                    default: ""
                                    required: true
                          - variable: certificateIssuer
                            label: Use Cert-Manager clusterIssuer
                            description: 'add the name of your Cert-Manager clusterIssuer here for automatic tls certificates.'
                            schema:
                              type: string
                              default: ""
                          - variable: clusterCertificate
                            label:  'Cluster Certificate (Advanced)'
                            description: 'Add the name of your cluster-wide certificate, that you set up in the ClusterIssuer chart.'
                            schema:
                              type: string
                              show_if: [["certificateIssuer", "=", ""]]
                              default: ""
                          - variable: secretName
                            label: Use Custom Secret (Advanced)
                            schema:
                              type: string
                              show_if: [["certificateIssuer", "=", ""]]
                              default: ""
              - variable: integrations
                label: Integrations
                description: Connect ingress with other charts
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: traefik
                      label: Traefik
                      description: Connect ingress with Traefik
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: enabled
                            schema:
                              type: boolean
                              default: true
                          - variable: allowCors
                            label: "Allow Cross Origin Requests"
                            schema:
                              type: boolean
                              default: false
                              show_if: [["enabled", "=", true]]
                          - variable: entrypoints
                            label: Entrypoints
                            schema:
                              type: list
                              default: ["websecure"]
                              show_if: [["enabled", "=", true]]
                              items:
                                - variable: entrypoint
                                  label: Entrypoint
                                  schema:
                                    type: string
                          - variable: middlewares
                            label: Middlewares
                            schema:
                              type: list
                              default: []
                              show_if: [["enabled", "=", true]]
                              items:
                                - variable: middleware
                                  label: Middleware
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: name
                                        label: name
                                        schema:
                                          type: string
                                          default: ""
                                          required: true
                                      - variable: namespace
                                        label: namespace
                                        schema:
                                          type: string
                                          default: ""
                    - variable: certManager
                      label: certManager
                      description: Connect ingress with certManager
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: enabled
                            schema:
                              type: boolean
                              default: true
                          - variable: certificateIssuer
                            label: certificateIssuer
                            description: defaults to chartname
                            schema:
                              type: string
                              default: ""
                              show_if: [["enabled", "=", true]]
                    - variable: homepage
                      label: Homepage
                      description: Connect ingress with Homepage
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: enabled
                            schema:
                              type: boolean
                              default: false
                          - variable: name
                            label: Name
                            description: defaults to chartname
                            schema:
                              type: string
                              default: ""
                              show_if: [["enabled", "=", true]]
                          - variable: description
                            label: Description
                            description: defaults to chart description
                            schema:
                              type: string
                              default: ""
                              show_if: [["enabled", "=", true]]
                          - variable: group
                            label: Group
                            schema:
                              type: string
                              required: true
                              default: "default"
                              show_if: [["enabled", "=", true]]

  - variable: securityContext
    group: SecurityContext
    label: Security Context
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: container
          label: Container
          schema:
            additional_attrs: true
            type: dict
            attrs:
              # Settings from questions.yaml get appended here on a per-app basis

              - variable: runAsUser
                label: runAsUser
                description: The UserID of the user running the application
                schema:
                  type: int
                  default: 1001
              - variable: runAsGroup
                label: runAsGroup
                description: The groupID of the user running the application
                schema:
                  type: int
                  default: 1001
              # Settings from questions.yaml get appended here on a per-app basis
              - variable: PUID
                label: Process User ID - PUID
                description: When supported by the container, this sets the User ID running the Application Process. Not supported by all Apps
                schema:
                  type: int
                  show_if: [["runAsUser", "=", 0]]
                  default: 568
              - variable: UMASK
                label: UMASK
                description: When supported by the container, this sets the UMASK for the App. Not supported by all Apps
                schema:
                  type: string
                  default: "0022"

              - variable: advanced
                label: Show Advanced Settings
                description: Advanced settings are not covered by TrueCharts Support
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: privileged
                      label: "Privileged mode"
                      schema:
                        type: boolean
                        default: false
                    - variable: readOnlyRootFilesystem
                      label: "ReadOnly Root Filesystem"
                      schema:
                        type: boolean
                        default: true

        - variable: pod
          label: Pod
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: fsGroupChangePolicy
                label: "When should we take ownership?"
                schema:
                  type: string
                  default: OnRootMismatch
                  enum:
                    - value: OnRootMismatch
                      description: OnRootMismatch
                    - value: Always
                      description: Always
              - variable: supplementalGroups
                label: Supplemental Groups
                schema:
                  type: list
                  default: []
                  items:
                    - variable: supplementalGroupsEntry
                      label: Supplemental Group
                      schema:
                        type: int
              # Settings from questions.yaml get appended here on a per-app basis

        - variable: fsGroup
          label: fsGroup
          description: The group that should own ALL storage
          schema:
            type: int
            default: 568
  - variable: resources
    group: Resources
    label: "Resource Limits"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: limits
          label: Advanced Limit Resource Consumption
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: cpu
                label: CPU
                description: "1000m means 1 hyperthread. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 4000m
                  valid_chars: '^(?!^0(\.0|m|)$)([0-9]+)(\.[0-9]|m?)$'
              - variable: memory
                label: RAM
                description: "1Gi means 1 Gibibyte RAM. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 8Gi
                  valid_chars: '^(?!^0(e[0-9]|[EPTGMK]i?|)$)([0-9]+)(|[EPTGMK]i?|e[0-9]+)$'
              - variable: 'gpu.intel.com/i915'
                label: Add Intel i915 GPUs
                schema:
                  type: int
                  default: 0
              - variable: 'nvidia.com/gpu'
                label: Add NVIDIA GPUs (Experimental)
                schema:
                  type: int
                  default: 0
              - variable: 'amd.com/gpu'
                label: Add AMD GPUs
                schema:
                  type: int
                  default: 0
        - variable: requests
          label: "Minimum Resources Required (request)"
          schema:
            additional_attrs: true
            type: dict
            hidden: true
            attrs:
              - variable: cpu
                label: CPU
                description: "1000m means 1 hyperthread. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 10m
                  hidden: true
                  valid_chars: '^(?!^0(\.0|m|)$)([0-9]+)(\.[0-9]|m?)$'
              - variable: memory
                label: "RAM"
                description: "1Gi means 1 Gibibyte RAM. Detailed info: https://truecharts.org/manual/SCALE/validation"
                schema:
                  type: string
                  default: 50Mi
                  hidden: true
                  valid_chars: '^(?!^0(e[0-9]|[EPTGMK]i?|)$)([0-9]+)(|[EPTGMK]i?|e[0-9]+)$'
  - variable: deviceList
    label: Mount USB Devices
    group: Devices
    schema:
      type: list
      default: []
      items:
        - variable: deviceListEntry
          label: Device
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enable the Storage
                schema:
                  type: boolean
                  default: true
              - variable: type
                label: (Advanced) Type of Storage
                description: Sets the persistence type
                schema:
                  type: string
                  default: device
                  hidden: true
              - variable: readOnly
                label: readOnly
                schema:
                  type: boolean
                  default: false
              - variable: hostPath
                label: Host Device Path
                description: Path to the device on the host system
                schema:
                  type: path
              - variable: mountPath
                label: Container Device Path
                description: Path inside the container the device is mounted
                schema:
                  type: string
                  default: "/dev/ttyACM0"

  - variable: cnpg
    group: Postgresql
    label: "CloudNative-PG (CNPG)"
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: main
          label: "Main Postgresql Database"
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: hibernate
                label: Hibernate
                description: "enable to safely hibernate and shutdown the postgresql cluster"
                schema:
                  type: boolean
                  default: false
              - variable: mode
                label: Mode
                description: 'Cluster mode of operation. Available modes: standalone - default mode. Creates new or updates an existing CNPG cluster. recovery - Same as standalone but creates a cluster from a backup, object store or via pg_basebackup replica - Creates a replica cluster from an existing CNPG cluster. # TODO.'
                schema:
                  type: string
                  default: "standalone"
                  enum:
                    - value: standalone
                      description: standalone
                    - value: replica
                      description: replica
                    - value: recovery
                      description: recovery
              - variable: pgVersion
                label: Postgres Version
                description: "Set the Postgresql version used"
                schema:
                  type: int
                  default: 16
                  required: true
              - variable: password
                label: Password
                description: "Set the password for the database-user"
                schema:
                  type: string
                  default: "PLACEHOLDERPASSWORD"
                  required: true
              - variable: cluster
                label: "Cluster Settings"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: instances
                      label: Instances
                      schema:
                        type: int
                        default: 1
                    - variable: singleNode
                      label: singleNode
                      schema:
                        type: boolean
                        default: true
                        hidden: true
                    - variable: storage
                      label: "Storage"
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: size
                            label: Size
                            schema:
                              type: string
                              default: "256Gi"
                    - variable: walStorage
                      label: "WAL Storage"
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: size
                            label: Size
                            schema:
                              type: string
                              default: "256Gi"
              - variable: monitoring
                label: "Monitoring Settings"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enablePodMonitor
                      label: "enablePodMonitor"
                      schema:
                        type: boolean
                        default: true
                    - variable: disableDefaultQueries
                      label: "disableDefaultQueries"
                      schema:
                        type: boolean
                        default: false
              - variable: pooler
                label: "Pooler Settings"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: Enabled
                      schema:
                        type: boolean
                        default: false
                    - variable: instances
                      label: Instances
                      schema:
                        type: int
                        show_if: [["enabled", "=", true]]
                        default: 1
                    - variable: createRO
                      label: "Create ReadOnly Instance"
                      schema:
                        type: boolean
                        show_if: [["enabled", "=", true]]
                        default: false
              - variable: backups
                label: "Backup Settings (Experimental)"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: "enabled"
                      schema:
                        type: boolean
                        default: false
                    - variable: revision
                      label: "revision"
                      schema:
                        type: string
                        default: ""
                    - variable: retentionPolicy
                      label: "retentionPolicy"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: "30d"
                    - variable: credentials
                      label: "Credentials"
                      description: "Name of the credentials in the credentials section"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                        required: true
              - variable: recovery
                label: "Recovery Settings (Experimental)"
                schema:
                  additional_attrs: true
                  type: dict
                  attrs:
                    - variable: enabled
                      label: "enabled"
                      schema:
                        type: boolean
                        default: false
                    - variable: serverName
                      label: "serverName"
                      schema:
                        type: string
                        default: ""
                    - variable: revision
                      label: "revision"
                      schema:
                        type: string
                        default: ""
                    - variable: method
                      label: "method"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: "object_store"
                    - variable: backupName
                      label: "backupName"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                    - variable: credentials
                      label: "Credentials"
                      description: "Name of the credentials in the credentials section"
                      schema:
                        type: string
                        show_if: [["enabled", "=", true]]
                        default: ""
                        required: true

#  - variable: horizontalPodAutoscaler
#    group: Experimental
#    label: (Advanced) Horizontal Pod Autoscaler
#    schema:
#      type: list
#      default: []
#      items:
#      - variable: hpaEntry
#        label: HPA Entry
#        schema:
#          additional_attrs: true
#          type: dict
#          attrs:
#            - variable: name
#              label: Name
#              schema:
#                type: string
#                required: true
#                default: ""
#            - variable: enabled
#              label: Enabled
#              schema:
#                type: boolean
#                default: false
#                show_subquestions_if: true
#                subquestions:
#                  - variable: target
#                    label: Target
#                    description: Deployment name, Defaults to Main Deployment
#                    schema:
#                      type: string
#                      default: ""
#                  - variable: minReplicas
#                    label: Minimum Replicas
#                    schema:
#                      type: int
#                      default: 1
#                  - variable: maxReplicas
#                    label: Maximum Replicas
#                    schema:
#                      type: int
#                      default: 5
#                  - variable: targetCPUUtilizationPercentage
#                    label: Target CPU Utilization Percentage
#                    schema:
#                      type: int
#                      default: 80
#                  - variable: targetMemoryUtilizationPercentage
#                    label: Target Memory Utilization Percentage
#                    schema:
#                      type: int
#                      default: 80
  - variable: networkPolicy
    group: Experimental
    label: (Advanced) Network Policy
    schema:
      type: list
      default: []
      items:
      - variable: netPolicyEntry
        label: Network Policy Entry
        schema:
          additional_attrs: true
          type: dict
          attrs:
            - variable: name
              label: Name
              schema:
                type: string
                required: true
                default: ""
            - variable: enabled
              label: Enabled
              schema:
                type: boolean
                default: false
                show_subquestions_if: true
                subquestions:
                  - variable: policyType
                    label: Policy Type
                    schema:
                      type: string
                      default: ""
                      enum:
                        - value: ""
                          description: Default
                        - value: ingress
                          description: Ingress
                        - value: egress
                          description: Egress
                        - value: ingress-egress
                          description: Ingress and Egress
                  - variable: egress
                    label: Egress
                    schema:
                      type: list
                      default: []
                      items:
                        - variable: egressEntry
                          label: ""
                          schema:
                            additional_attrs: true
                            type: dict
                            attrs:
                              - variable: to
                                label: To
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: toEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: ipBlock
                                            label: IP Block
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: cidr
                                                  label: CIDR
                                                  schema:
                                                    type: string
                                                    default: ""
                                                - variable: except
                                                  label: Except
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: exceptint
                                                        label: ""
                                                        schema:
                                                          type: string
                                          - variable: namespaceSelector
                                            label: Namespace Selector
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                                          - variable: podSelector
                                            label: ""
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                              - variable: ports
                                label: Ports
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: portsEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: port
                                            label: Port
                                            schema:
                                              type: int
                                          - variable: endPort
                                            label: End Port
                                            schema:
                                              type: int
                                          - variable: protocol
                                            label: Protocol
                                            schema:
                                              type: string
                                              default: TCP
                                              enum:
                                                - value: TCP
                                                  description: TCP
                                                - value: UDP
                                                  description: UDP
                                                - value: SCTP
                                                  description: SCTP
                  - variable: ingress
                    label: Ingress
                    schema:
                      type: list
                      default: []
                      items:
                        - variable: ingressEntry
                          label: ""
                          schema:
                            additional_attrs: true
                            type: dict
                            attrs:
                              - variable: from
                                label: From
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: fromEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: ipBlock
                                            label: IP Block
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: cidr
                                                  label: CIDR
                                                  schema:
                                                    type: string
                                                    default: ""
                                                - variable: except
                                                  label: Except
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: exceptint
                                                        label: ""
                                                        schema:
                                                          type: string
                                          - variable: namespaceSelector
                                            label: Namespace Selector
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                                          - variable: podSelector
                                            label: ""
                                            schema:
                                              additional_attrs: true
                                              type: dict
                                              attrs:
                                                - variable: matchExpressions
                                                  label: Match Expressions
                                                  schema:
                                                    type: list
                                                    default: []
                                                    items:
                                                      - variable: expressionEntry
                                                        label: ""
                                                        schema:
                                                          additional_attrs: true
                                                          type: dict
                                                          attrs:
                                                            - variable: key
                                                              label: Key
                                                              schema:
                                                                type: string
                                                            - variable: operator
                                                              label: Operator
                                                              schema:
                                                                type: string
                                                                default: TCP
                                                                enum:
                                                                  - value: In
                                                                    description: In
                                                                  - value: NotIn
                                                                    description: NotIn
                                                                  - value: Exists
                                                                    description: Exists
                                                                  - value: DoesNotExist
                                                                    description: DoesNotExist
                                                            - variable: values
                                                              label: Values
                                                              schema:
                                                                type: list
                                                                default: []
                                                                items:
                                                                  - variable: value
                                                                    label: ""
                                                                    schema:
                                                                      type: string
                              - variable: ports
                                label: Ports
                                schema:
                                  type: list
                                  default: []
                                  items:
                                    - variable: portsEntry
                                      label: ""
                                      schema:
                                        additional_attrs: true
                                        type: dict
                                        attrs:
                                          - variable: port
                                            label: Port
                                            schema:
                                              type: int
                                          - variable: endPort
                                            label: End Port
                                            schema:
                                              type: int
                                          - variable: protocol
                                            label: Protocol
                                            schema:
                                              type: string
                                              default: TCP
                                              enum:
                                                - value: TCP
                                                  description: TCP
                                                - value: UDP
                                                  description: UDP
                                                - value: SCTP
                                                  description: SCTP

  - variable: addons
    group: Addons
    label: ""
    schema:
      additional_attrs: true
      type: dict
      attrs:

        - variable: codeserver
          label: Codeserver
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: service
                      label: ""
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: type
                            label: Service Type
                            description: "ClusterIP's are only internally available and Loadbalancer exposes the service using the system loadbalancer"
                            schema:
                              type: string
                              default: LoadBalancer
                              enum:
                                - value: NodePort
                                  description: Deprecated CHANGE THIS
                                - value: ClusterIP
                                  description: ClusterIP
                                - value: LoadBalancer
                                  description: LoadBalancer
                          - variable: loadBalancerIP
                            label: LoadBalancer IP
                            description: "MetalLB Only: Selects the Loadbalancer IP to expose on. Required when using PortalButton with MetalLB"
                            schema:
                              show_if: [["type", "=", "LoadBalancer"]]
                              type: string
                              default: ""
                          - variable: ports
                            label: ""
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: codeserver
                                  label: ""
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: port
                                        label: Port
                                        schema:
                                          type: int
                                          default: 36107
                    - variable: ingress
                      label:  "Ingress"
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: enabled
                            label: Enable Ingress
                            schema:
                              type: boolean
                              default: false
                              show_subquestions_if: true
                              subquestions:
                                - variable: hosts
                                  label: Hosts
                                  schema:
                                    type: list
                                    default: []
                                    items:
                                      - variable: hostEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: host
                                              label: HostName
                                              schema:
                                                type: string
                                                default: ""
                                                required: true
                                            - variable: paths
                                              label: Paths
                                              schema:
                                                type: list
                                                default: [{path: "/", pathType: "Prefix"}]
                                                items:
                                                  - variable: pathEntry
                                                    label: Host
                                                    schema:
                                                      additional_attrs: true
                                                      type: dict
                                                      attrs:
                                                        - variable: path
                                                          label: Path
                                                          schema:
                                                            type: string
                                                            required: true
                                                            default: "/"
                                                        - variable: pathType
                                                          label: Path Type
                                                          schema:
                                                            type: string
                                                            required: true
                                                            default: Prefix
                                - variable: integrations
                                  label: Integrations
                                  description: Connect ingress with other charts
                                  schema:
                                    additional_attrs: true
                                    type: dict
                                    attrs:
                                      - variable: traefik
                                        label: Traefik
                                        description: Connect ingress with Traefik
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: enabled
                                              label: enabled
                                              schema:
                                                type: boolean
                                                default: true
                                            - variable: allowCors
                                              label: 'Allow Cross Origin Requests (advanced)'
                                              schema:
                                                type: boolean
                                                default: false
                                                show_if: [["enabled", "=", true]]
                                            - variable: entrypoints
                                              label: Entrypoints
                                              schema:
                                                type: list
                                                default: ["websecure"]
                                                show_if: [["enabled", "=", true]]
                                                items:
                                                  - variable: entrypoint
                                                    label: Entrypoint
                                                    schema:
                                                      type: string
                                            - variable: middlewares
                                              label: Middlewares
                                              schema:
                                                type: list
                                                default: []
                                                show_if: [["enabled", "=", true]]
                                                items:
                                                  - variable: middleware
                                                    label: Middleware
                                                    schema:
                                                      additional_attrs: true
                                                      type: dict
                                                      attrs:
                                                        - variable: name
                                                          label: name
                                                          schema:
                                                            type: string
                                                            default: ""
                                                            required: true
                                                        - variable: namespace
                                                          label: 'namespace (optional)'
                                                          schema:
                                                            type: string
                                                            default: ""
                                      - variable: certManager
                                        label: certManager
                                        description: Connect ingress with certManager
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: enabled
                                              label: enabled
                                              schema:
                                                type: boolean
                                                default: false
                                            - variable: certificateIssuer
                                              label: certificateIssuer
                                              description: defaults to chartname
                                              schema:
                                                type: string
                                                default: ""
                                                show_if: [["enabled", "=", true]]
                                - variable: advanced
                                  label: Show Advanced Settings
                                  description: Advanced settings are not covered by TrueCharts Support
                                  schema:
                                    type: boolean
                                    default: false
                                - variable: ingressClassName
                                  label: (Advanced/Optional) IngressClass Name
                                  schema:
                                    type: string
                                    show_if: [["advanced", "=", true]]
                                    default: ""
                                - variable: tls
                                  label: TLS-Settings
                                  schema:
                                    type: list
                                    show_if: [["advanced", "=", true]]
                                    default: []
                                    items:
                                      - variable: tlsEntry
                                        label: Host
                                        schema:
                                          additional_attrs: true
                                          type: dict
                                          attrs:
                                            - variable: hosts
                                              label: Certificate Hosts
                                              schema:
                                                type: list
                                                default: []
                                                items:
                                                  - variable: host
                                                    label: Host
                                                    schema:
                                                      type: string
                                                      default: ""
                                                      required: true

                                            - variable: certificateIssuer
                                              label: Use Cert-Manager clusterIssuer
                                              description: 'add the name of your cert-manager clusterIssuer here for automatic tls certificates.'
                                              schema:
                                                type: string
                                                default: ""
                                            - variable: clusterCertificate
                                              label:  'Cluster Certificate (Advanced)'
                                              description: 'Add the name of your cluster-wide certificate, that you set up in the ClusterIssuer chart.'
                                              schema:
                                                type: string
                                                show_if: [["certificateIssuer", "=", ""]]
                                                default: ""
                                            - variable: secretName
                                              label: 'Use Custom Certificate Secret (Advanced)'
                                              schema:
                                                show_if: [["certificateIssuer", "=", ""]]
                                                type: string
                                                default: ""
                                            - variable: scaleCert
                                              label: 'Use TrueNAS SCALE Certificate (Deprecated)'
                                              schema:
                                                show_if: [["certificateIssuer", "=", ""]]
                                                type: int
                                                $ref:
                                                  - "definitions/certificate"
                    - variable: envList
                      label: Codeserver Environment Variables
                      schema:
                        type: list
                        show_if: [["type", "!=", "disabled"]]
                        default: []
                        items:
                          - variable: envItem
                            label: Environment Variable
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: name
                                  label: Name
                                  schema:
                                    type: string
                                    required: true
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true

        - variable: netshoot
          label: Netshoot
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: enabled
                label: Enabled
                schema:
                  type: boolean
                  default: false
                  show_subquestions_if: true
                  subquestions:
                    - variable: envList
                      label: Netshoot Environment Variables
                      schema:
                        type: list
                        show_if: [["type", "!=", "disabled"]]
                        default: []
                        items:
                          - variable: envItem
                            label: Environment Variable
                            schema:
                              additional_attrs: true
                              type: dict
                              attrs:
                                - variable: name
                                  label: Name
                                  schema:
                                    type: string
                                    required: true
                                - variable: value
                                  label: Value
                                  schema:
                                    type: string
                                    required: true

        - variable: vpn
          label: VPN
          schema:
            additional_attrs: true
            type: dict
            attrs:
              - variable: type
                label: Type
                schema:
                  type: string
                  default: disabled
                  enum:
                    - value: disabled
                      description: disabled
                    - value: gluetun
                      description: Gluetun
                    - value: tailscale
                      description: Tailscale
                    - value: openvpn
                      description: OpenVPN (Deprecated)
                    - value: wireguard
                      description: Wireguard (Deprecated)
              - variable: openvpn
                label: OpenVPN Settings
                schema:
                  additional_attrs: true
                  type: dict
                  show_if: [["type", "=", "openvpn"]]
                  attrs:
                    - variable: username
                      label: Authentication Username (Optional)
                      description: Authentication Username, Optional
                      schema:
                        type: string
                        default: ""
                    - variable: password
                      label: Authentication Password
                      description: Authentication Credentials
                      schema:
                        type: string
                        show_if: [["username", "!=", ""]]
                        default: ""
                        required: true
              - variable: tailscale
                label: Tailscale Settings
                schema:
                  additional_attrs: true
                  type: dict
                  show_if: [["type", "=", "tailscale"]]
                  attrs:
                    - variable: authkey
                      label: Authentication Key
                      description: Provide an auth key to automatically authenticate the node as your user account.
                      schema:
                        type: string
                        private: true
                        default: ""
                    - variable: auth_once
                      label: Auth Once
                      description: Only attempt to log in if not already logged in.
                      schema:
                        type: boolean
                        default: true
                    - variable: accept_dns
                      label: Accept DNS
                      description: Accept DNS configuration from the admin console.
                      schema:
                        type: boolean
                        default: false
                    - variable: userspace
                      label: Userspace
                      description: Userspace Networking mode allows running Tailscale where you do not have access to create a VPN tunnel device.
                      schema:
                        type: boolean
                        default: false
                    - variable: routes
                      label: Routes
                      description: Expose physical subnet routes to your entire Tailscale network.
                      schema:
                        type: string
                        default: ""
                    - variable: dest_ip
                      label: Destination IP
                      description: Tells the DNAT mechanism which Destination IP to set in the IP header, and where to send packets that are matched.
                      schema:
                        type: string
                        default: ""
                    - variable: sock5_server
                      label: Sock5 Server
                      description: The address on which to listen for SOCKS5 proxying into the tailscale net.
                      schema:
                        type: string
                        default: ""
                    - variable: outbound_http_proxy_listen
                      label: Outbound HTTP Proxy Listen
                      description: The address on which to listen for HTTP proxying into the tailscale net.
                      schema:
                        type: string
                        default: ""
                    - variable: extra_args
                      label: Extra Args
                      description: Extra Args
                      schema:
                        type: string
                        default: ""
                    - variable: daemon_extra_args
                      label: Tailscale Daemon Extra Args
                      description: Tailscale Daemon Extra Args
                      schema:
                        type: string
                        default: ""
              - variable: killSwitch
                label: Enable Killswitch
                schema:
                  type: boolean
                  show_if: [["type", "!=", "disabled"]]
                  default: true
              - variable: excludedNetworks_IPv4
                label: Killswitch Excluded IPv4 networks
                description: List of Killswitch Excluded IPv4 Addresses
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: networkv4
                      label: IPv4 Network
                      schema:
                        type: string
                        required: true
              - variable: excludedNetworks_IPv6
                label: Killswitch Excluded IPv6 networks
                description: "List of Killswitch Excluded IPv6 Addresses"
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: networkv6
                      label: IPv6 Network
                      schema:
                        type: string
                        required: true
              - variable: configFile
                label: VPN Config File Location
                schema:
                  type: string
                  show_if: [["type", "!=", "disabled"]]
                  default: ""

              - variable: envList
                label: VPN Environment Variables
                schema:
                  type: list
                  show_if: [["type", "!=", "disabled"]]
                  default: []
                  items:
                    - variable: envItem
                      label: Environment Variable
                      schema:
                        additional_attrs: true
                        type: dict
                        attrs:
                          - variable: name
                            label: Name
                            schema:
                              type: string
                              required: true
                          - variable: value
                            label: Value
                            schema:
                              type: string
                              required: true
                              max_length: 10240

  - variable: docs
    group: Documentation
    label: Please read the documentation at https://truecharts.org
    description: Please read the documentation at
      <br /><a href="https://truecharts.org">https://truecharts.org</a>
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: confirmDocs
          label: I have checked the documentation
          schema:
            type: boolean
            default: true
  - variable: donateNag
    group: Documentation
    label: Please consider supporting TrueCharts, see https://truecharts.org/sponsor
    description: Please consider supporting TrueCharts, see
      <br /><a href="https://truecharts.org/sponsor">https://truecharts.org/sponsor</a>
    schema:
      additional_attrs: true
      type: dict
      attrs:
        - variable: confirmDonate
          label: I have considered donating
          schema:
            type: boolean
            default: true
            hidden: true

