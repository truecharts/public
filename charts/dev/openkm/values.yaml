image:
  repository: tccr.io/truecharts/openkm-ce
  tag: 6.3.12@sha256:816740d012aaf31cf49f28649629e82c7b5e2daee04e29b6ff2559b089726758
  pullPolicy: IfNotPresent

workload:
  main:
    podSpec:
      containers:
        main:
          probes:
            liveness:
              type: tcp
            readiness:
              type: tcp
            startup:
              type: tcp
      initContainers:
        init:
          imageSelector: image
          enabled: true
          type: init
          command: ["/config/init/init.sh"]

service:
  main:
    ports:
      main:
        port: 10090
        targetPort: 8080
persistence:
  config:
    enabled: true
    mountPath: /opt/tomcat/repository
  init:
    enabled: true
    mountPath: /config/init
    readOnly: true
    type: configmap
    defaultMode: "0777"
    objectName: init
cnpg:
  main:
    enabled: true

    user: openkm
    database: openkm
portal:
  open:
    enabled: true
securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsNonRoot: false
    runAsUser: 0
    runAsGroup: 0
