image:
  repository: ghcr.io/home-operations/plex
  pullPolicy: IfNotPresent
  tag: 1.41.7.9799@sha256:0c31ee1ebee0b63ead2de2accc6c52b1e65e9322b39118715eeac8b2f2bb786f
service:
  main:
    ports:
      main:
        protocol: http
        port: 32400
        targetPort: 32400
persistence:
  config:
    enabled: true
    mountPath: "/config"
  transcode:
    enabled: true
    mountPath: "/transcode"
    type: emptyDir
    medium: Memory
    targetSelectAll: true
plex:
  # User Defined
  serverIP: "127.0.0.1"
  additionalAdvertiseURL: ""
  disableGDM: true
  requireHTTPS: false
workload:
  main:
    podSpec:
      containers:
        main:
          probes:
            liveness:
              enabled: true
              path: /identity
            readiness:
              enabled: true
              path: /identity
            startup:
              enabled: true
              path: /identity
          env:
            PLEX_PREFERENCE_GDM: 'GdmEnabled={{ ternary "0" "1" .Values.plex.disableGDM }}'
            # 0=Required, 1=Preferred
            PLEX_PREFERENCE_SEC_CON: 'secureConnections={{ ternary "0" "1" .Values.plex.requireHTTPS }}'
            # User Defined
            ALLOWED_NETWORKS: "172.16.0.0/12,10.0.0.0/8,192.168.0.0/16"
            PLEX_CLAIM: ""
resources:
  limits:
    cpu: 4000m
    memory: 8000Mi
  requests:
    cpu: 500m
    memory: 1000Mi
