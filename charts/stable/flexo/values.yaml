image:
  pullPolicy: IfNotPresent
  repository: nroi/flexo
  tag: 1.6.9@sha256:850061e57c6d0acdee618be70ba4c58149137980852aaaf917bcde885e5ad65a

resources:
  limits:
    cpu: 1000m
    memory: 1Gi
  requests:
    cpu: 10m
    memory: 64Mi
service:
  main:
    ports:
      main:
        port: 80
        protocol: http
        targetPort: 7878
persistence:
  data:
    enabled: true
    type: "emptyDir"
    size: 10Gi
    mountPath: "/var/cache/flexo"
workload:
  main:
    primary: true
    podSpec:
      containers:
        main:
          probes:
            liveness:
              enabled: true
              path: "/metrics"
              port: 7878
              spec:
                initialDelaySeconds: 10
            readiness:
              enabled: true
              type: tcp
              spec:
                initialDelaySeconds: 10
            startup:
              type: tcp
              port: 7878
              spec:
                initialDelaySeconds: 60
          env:
            RUST_BACKTRACE: "1"
            FLEXO_LISTEN_IP_ADDRESS: "0.0.0.0"
