image:
  repository: ghcr.io/authelia/authelia
  pullPolicy: IfNotPresent
  tag: 4.38.19@sha256:46021dc20efdcc5cdc38a29e3050b8835429a155ae6215388ed3b793a02eb0ab

# Raw Authelia configuration
authelia: {}

workload:
  main:
    replicas: 2
    strategy: RollingUpdate
    podSpec:
      containers:
        main:
          command:
            - authelia
          args:
            - --config=/configuration.yaml
          envFrom:
            - configMapRef:
                name: authelia-paths
          probes:
            liveness:
              type: http
              path: "/api/health"
            readiness:
              type: http
              path: "/api/health"
            startup:
              type: http
              path: "/api/health"
service:
  main:
    ports:
      main:
        port: 9091

persistence:
  config:
    enabled: true
    mountPath: "/config"

cnpg:
  main:
    enabled: true
    user: authelia
    database: authelia

# Enabled redis
# ... for more options see https://github.com/tccr.io/truecharts/charts/tree/master/tccr.io/truecharts/redis
redis:
  enabled: true
  includeCommon: true

portal:
  open:
    enabled: true

ingress:
  main:
    required: true
