image:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/firefox
  tag: 2.8.11@sha256:30b9a285607ad81aaf1ab2af8e06c03f66325247d0b9cc33e389dc73d0a116c2
braveImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/brave
  tag: 2.8.11@sha256:0ccc80e91e532305376b6da916a0c19e9469c4f7a687e14cfa84ceb1969a7009
chromeImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/google-chrome
  tag: 2.8.12@sha256:5b9c75b770a7abc62030149b64d0b3d966c0ec45c29c936737412586ed61d28a
chromiumImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/chromium
  tag: 2.8.12@sha256:8d9d431acb4a6f7630754b74fd823d61af0d02013955ba571e22e1d3afd0f3d9
edgeImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/microsoft-edge
  tag: 2.8.11@sha256:03c8fef67d791480e9ae374fbe34dcec0b3b5d896bfc845ff5d52e90f0c79615
remminaImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/remmina
  tag: 2.8.12@sha256:9a60e2a280fb98fe1091ca6982b7d5780e1029a3a4cc754d20620eb3cbcb0515
torImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/tor-browser
  tag: 2.8.11@sha256:b89cc196a2dcdc1a375bde74710e3572ee80356be5c5847bf6d815c668f8b782
vivaldiImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/vivaldi
  tag: 2.8.12@sha256:158d1e1771216f41400d693b6ccb049d2491a0cde5b71f3b5bb8d2c6d0ca2cfb
vlcImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/vlc
  tag: 2.8.11@sha256:be0a2b86fbfe4c6ae6c8b0361a3aa0a6851fc4b9255c213faf9776588183605a
xfceImage:
  pullPolicy: IfNotPresent
  repository: ghcr.io/m1k1o/neko/xfce
  tag: 2.8.11@sha256:838d11ce275e61511a66050ac7be87b6893d36d97a8f224a2bbebcf830864257

securityContext:
  container:
    readOnlyRootFilesystem: false
    runAsGroup: 0
    runAsUser: 0

service:
  main:
    ports:
      main:
        port: 10294
        protocol: http
  mux:
    enabled: true
    ports:
      tcp:
        enabled: true
        port: 52100
        protocol: tcp
      udp:
        enabled: true
        port: "{{ .Values.service.mux.ports.tcp.port }}"
        protocol: udp

neko:
  ip: "0.0.0.0"
  auth:
    user_pass: ""
    admin_pass: ""
  proxy: false
  screen: "1920x1080@30"
  control_protection: false
  implicit_control: false
  locks:
    []
    # - control
    # - login
    # - file_transfer
  cors:
    - "*"

workload:
  main:
    podSpec:
      containers:
        main:
          imageSelector: image
          env:
            NEKO_BIND: '{{ printf ":%v" .Values.service.main.ports.main.port }}'
            NEKO_PATH_PREFIX: "/"
            NEKO_NAT1TO1: "{{ .Values.neko.ip }}"
            # NEKO_EPR
            NEKO_TCPMUX: "{{ .Values.service.mux.ports.tcp.port }}"
            NEKO_UDPMUX: "{{ .Values.service.mux.ports.tcp.port }}"
            NEKO_FILE_TRANSFER_ENABLED: true
            NEKO_FILE_TRANSFER_PATH: "{{.Values.persistence.downloads.mountPath }}"
            NEKO_CONTROL_PROTECTION: "{{ .Values.neko.control_protection }}"
            NEKO_IMPLICIT_CONTROL: "{{ .Values.neko.implicit_control }}"
            NEKO_LOCKS: '{{ join " " .Values.neko.locks }}'
            NEKO_PASSWORD: "{{ .Values.neko.auth.user_pass }}"
            NEKO_PASSWORD_ADMIN: "{{ .Values.neko.auth.admin_pass }}"
            NEKO_PROXY: "{{ .Values.neko.proxy }}"
            NEKO_SCREEN: "{{ .Values.neko.screen }}"
            NEKO_CORS: '{{ join " " .Values.neko.cors }}'
            # NEKO_NAT1TO1: ""
            # NEKO_IPFETCH: ""
            # NEKO_ICELITE: false
            # NEKO_ICESERVER: ""
            # NEKO_ICESERVERS

persistence:
  downloads:
    enabled: true
    mountPath: /home/neko/Downloads

portal:
  open:
    enabled: true
