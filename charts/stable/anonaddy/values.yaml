image:
  repository: tccr.io/truecharts/anonaddy
  tag: 0.13.13@sha256:495809d341b08ea6d02c7b0b318d48b00b7243392affd0d278ec1aa188a76ccd
  pullPolicy: IfNotPresent
strategy:
  type: Recreate
service:
  main:
    ports:
      main:
        port: 10110
        targetPort: 8000
  smtp:
    enabled: true
    ports:
      smtp:
        enabled: true
        port: 25
        targetPort: 25
persistence:
  varrun:
    enabled: true
  config:
    enabled: true
    mountPath: "/config"
redis:
  enabled: true
  existingSecret: "rediscreds"
mariadb:
  enabled: true
  mariadbUsername: anonaddy
  mariadbDatabase: anonaddy
  existingSecret: "mariadbcreds"
portal:
  open:
    enabled: true
securityContext:
  container:
    runAsNonRoot: false
    readOnlyRootFilesystem: false
    runAsUser: 0
    runAsGroup: 0
workload:
  main:
    podSpec:
      containers:
        main:
          env:
            ANONADDY_DOMAIN: "chart-example.local"
            DB_DATABASE: anonaddy
            DB_USERNAME: anonaddy
            DB_HOST:
              secretKeyRef:
                name: mariadbcreds
                key: plainhost
            DB_PASSWORD:
              secretKeyRef:
                name: mariadbcreds
                key: mariadb-password
            REDIS_HOST:
              secretKeyRef:
                name: rediscreds
                key: plainhost
            REDIS_PASSWORD:
              secretKeyRef:
                name: rediscreds
                key: redis-password
            APP_KEY:
              secretKeyRef:
                name: appkey
                key: appkey
            ANONADDY_SECRET:
              secretKeyRef:
                name: appkey
                key: secret
